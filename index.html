<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
Â  Â  <meta charset="UTF-8">
Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  Â  <title>Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø·Ø§Ø¨ÙˆØ± Ø§Ù„Ù…Ø¯Ø±Ø³ÙŠ - Ù…ØªØ²Ø§Ù…Ù†</title>
Â  Â  Â  Â  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
Â  Â  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
Â  Â  <script src="https://cdn.sheetjs.com/xlsx-0.20.1/package/dist/xlsx.full.min.js"></script>
Â  Â  <style>
Â  Â  Â  Â  /* [Ø§Ù„Ø£Ù†Ù…Ø§Ø· (CSS) Ø¨Ø§Ù„ÙƒØ§Ù…Ù„] */
Â  Â  Â  Â  @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700;900&display=swap');
Â  Â  Â  Â Â 
Â  Â  Â  Â  * { margin: 0; padding: 0; box-sizing: border-box; }
Â  Â  Â  Â  body { font-family: 'Tajawal', sans-serif; overflow-x: hidden; position: relative; min-height: 100vh; direction: rtl; }
Â  Â  Â  Â  .live-background { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; background: linear-gradient(45deg, #ff6b9d, #ffa726, #ab47bc, #42a5f5); background-size: 400% 400%; animation: modernGradientFlow 15s ease infinite; }
Â  Â  Â  Â  .background-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; background: radial-gradient(circle at 20% 50%, rgba(255, 107, 157, 0.3) 0%, transparent 50%), radial-gradient(circle at 80% 20%, rgba(171, 71, 188, 0.3) 0%, transparent 50%), radial-gradient(circle at 40% 80%, rgba(66, 165, 245, 0.3) 0%, transparent 50%); animation: modernBackgroundPulse 8s ease-in-out infinite; }
Â  Â  Â  Â  .floating-particles { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: -1; }
Â  Â  Â  Â  .glowing-orb { position: absolute; border-radius: 50%; background: radial-gradient(circle, rgba(255, 255, 255, 0.8), rgba(255, 107, 157, 0.4)); box-shadow: 0 0 20px rgba(255, 107, 157, 0.6); animation: floatOrb 20s linear infinite; }
Â  Â  Â  Â  .sparkle { position: absolute; width: 4px; height: 4px; background: white; border-radius: 50%; box-shadow: 0 0 10px white; animation: sparkleMove 8s linear infinite; }
Â  Â  Â  Â  .glass-morphism { background: rgba(255, 255, 255, 0.1); backdrop-filter: blur(20px); border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 20px; box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1); }
Â  Â  Â  Â  .header { padding: 2rem; margin: 1rem; position: relative; overflow: hidden; }
Â  Â  Â  Â  .header::before { content: ''; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%; background: conic-gradient(from 0deg, transparent, rgba(255, 255, 255, 0.1), transparent); animation: rotate 10s linear infinite; }
Â  Â  Â  Â  .logo-container { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; }
Â  Â  Â  Â  .logo { width: 80px; height: 80px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 2rem; color: white; box-shadow: 0 0 30px rgba(255, 107, 157, 0.5); animation: logoPulse 3s ease-in-out infinite; position: relative; z-index: 2; overflow: hidden; }
Â  Â  Â  Â  .logo img { width: 100%; height: 100%; object-fit: cover; border-radius: 50%; }
Â  Â  Â  Â  .header-logo-image { width: 120px; height: 120px; border-radius: 15px; object-fit: cover; border: 3px solid rgba(255, 255, 255, 0.4); box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2); transition: all 0.3s ease; }
Â  Â  Â  Â  .header-logo-image:hover { transform: translateY(-3px); box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3); }
Â  Â  Â  Â  .main-title { text-align: center; font-size: 3.5rem; font-weight: 900; background: linear-gradient(45deg, #ff6b9d, #ffa726, #ab47bc, #42a5f5); background-size: 400% 400%; -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; animation: modernGradientFlow 8s ease infinite, textGlow 2s ease-in-out infinite alternate; text-shadow: 0 0 30px rgba(255, 107, 157, 0.5); margin: 1rem 0; position: relative; z-index: 2; }
Â  Â  Â  Â  .subtitle { text-align: center; font-size: 1.2rem; color: rgba(255, 255, 255, 0.9); margin-bottom: 2rem; position: relative; z-index: 2; }
Â  Â  Â  Â  .header-info { display: flex; justify-content: space-between; align-items: center; gap: 2rem; margin: 2rem 0; position: relative; z-index: 2; }
Â  Â  Â  Â  .header-image { width: 200px; height: 200px; border-radius: 15px; object-fit: cover; border: 3px solid rgba(255, 255, 255, 0.3); box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2); transition: all 0.3s ease; }
Â  Â  Â  Â  .header-image:hover { transform: translateY(-3px); box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3); }
Â  Â  Â  Â  .info-card { padding: 1rem 2rem; text-align: center; color: white; font-size: 1.1rem; }
Â  Â  Â  Â Â 
Â  Â  Â  Â  /* === Ø£Ù†Ù…Ø§Ø· Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ù†Ø¬ÙˆÙ… (Stars Summary) === */
Â  Â  Â  Â  .stars-summary {Â 
Â  Â  Â  Â  Â  Â  display: grid;Â 
Â  Â  Â  Â  Â  Â  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));Â 
Â  Â  Â  Â  Â  Â  gap: 1rem;Â 
Â  Â  Â  Â  Â  Â  margin-top: 2rem;Â 
Â  Â  Â  Â  Â  Â  position: relative;Â 
Â  Â  Â  Â  Â  Â  z-index: 2;Â 
Â  Â  Â  Â  }

Â  Â  Â  Â  .star-card {
Â  Â  Â  Â  Â  Â  width: 100%;Â 
Â  Â  Â  Â  Â  Â  color: white;Â 
Â  Â  Â  Â  Â  Â  padding: 1rem;Â 
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  }

Â  Â  Â  Â  .star-card h3 {
Â  Â  Â  Â  Â  Â  font-size: 1.4rem;
Â  Â  Â  Â  Â  Â  font-weight: 700;
Â  Â  Â  Â  }

Â  Â  Â  Â  .star-card p {
Â  Â  Â  Â  Â  Â  font-size: 1.1rem;
Â  Â  Â  Â  Â  Â  margin-top: 0.5rem;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ù†Ø¬ÙˆÙ… */
Â  Â  Â  Â  .star-card:nth-child(1) {Â 
Â  Â  Â  Â  Â  Â  background: linear-gradient(135deg, #ab47bc, #e1bee7); /* Ø¨Ù†ÙØ³Ø¬ÙŠ - Ù†Ø¬Ù…Ø© Ø§Ù„Ø´Ù‡Ø± */
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .star-card:nth-child(2) {Â 
Â  Â  Â  Â  Â  Â  background: linear-gradient(135deg, #ffa726, #ffcc02); /* Ø£ØµÙØ± - Ù†Ø¬Ù… Ø§Ù„Ø·Ø§Ø¨ÙˆØ± */
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .star-card:nth-child(3) {Â 
Â  Â  Â  Â  Â  Â  background: linear-gradient(135deg, #ff6b9d, #ff8a80); /* ÙˆØ±Ø¯ÙŠ - Ù†Ø¬Ù…Ø© Ø§Ù„ÙŠÙˆÙ… */
Â  Â  Â  Â  }

Â  Â  Â  Â  .star-card:nth-child(4) {Â 
Â  Â  Â  Â  Â  Â  background: linear-gradient(135deg, #42a5f5, #81d4fa); /* Ø£Ø²Ø±Ù‚ - Ù†Ø¬Ù… Ø§Ù„Ø·Ø§Ø¨ÙˆØ± Ù„Ù„Ø´Ù‡Ø± */
Â  Â  Â  Â  }
Â  Â  Â  Â  /* ============================================== */

Â  Â  Â  Â  .star-card:hover { transform: translateY(-10px) scale(1.05); box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2); }
Â  Â  Â  Â  .navigation { position: sticky; top: 0; z-index: 100; margin: 0 1rem; padding: 1rem; display: flex; justify-content: center; gap: 1rem; flex-wrap: wrap; }
Â  Â  Â  Â  .nav-button { padding: 1rem 2rem; background: linear-gradient(45deg, #ff6b9d, #ffa726); color: white; border: none; border-radius: 15px; font-size: 1.1rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease; position: relative; overflow: hidden; display: flex; align-items: center; gap: 0.5rem; }
Â  Â  Â  Â  .nav-button::before { content: ''; position: absolute; top: 0; left: -100%; width: 100%; height: 100%; background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent); transition: left 0.5s ease; }
Â  Â  Â  Â  .nav-button:hover::before { left: 100%; }
Â  Â  Â  Â  .nav-button:hover { transform: translateY(-3px); box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2); }
Â  Â  Â  Â  .nav-button.active { background: linear-gradient(45deg, #ab47bc, #42a5f5); box-shadow: 0 0 20px rgba(171, 71, 188, 0.5); }
Â  Â  Â  Â  .main-content { padding: 2rem; max-width: 1400px; margin: 0 auto; }
Â  Â  Â  Â  .section { display: none; animation: fadeInUp 0.5s ease; }
Â  Â  Â  Â  .section.active { display: block; }
Â  Â  Â  Â  .attendance-stats { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin-bottom: 2rem; }
Â  Â  Â  Â  .stat-card { padding: 1.5rem; text-align: center; color: white; position: relative; overflow: hidden; transition: all 0.3s ease; }
Â  Â  Â  Â  .stat-card:hover { transform: translateY(-5px) rotateX(10deg); }
Â  Â  Â  Â  .stat-number { font-size: 2.5rem; font-weight: 900; margin-bottom: 0.5rem; }
Â  Â  Â  Â  .stat-label { font-size: 1.1rem; opacity: 0.9; }
Â  Â  Â  Â  .teachers-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem; margin-top: 2rem; }
Â  Â  Â  Â Â 
Â  Â  Â  Â  /* === Ø£Ù†Ù…Ø§Ø· Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ù…Ø¹Ù„Ù…Ø§Øª (Teacher Card Status) === */
Â  Â  Â  Â  .teacher-card {Â 
Â  Â  Â  Â  Â  Â  padding: 1.5rem;Â 
Â  Â  Â  Â  Â  Â  position: relative;Â 
Â  Â  Â  Â  Â  Â  overflow: hidden;Â 
Â  Â  Â  Â  Â  Â  transition: all 0.5s ease;Â 
Â  Â  Â  Â  Â  Â  cursor: pointer;Â 
Â  Â  Â  Â  Â  Â  background: rgba(255, 255, 255, 0.1);Â 
Â  Â  Â  Â  Â  Â  backdrop-filter: blur(20px);
Â  Â  Â  Â  Â  Â  border: 1px solid rgba(255, 255, 255, 0.2);
Â  Â  Â  Â  Â  Â  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
Â  Â  Â  Â  }

Â  Â  Â  Â  .teacher-card.status-present {
Â  Â  Â  Â  Â  Â  background: linear-gradient(135deg, #4caf50, #81c784); /* Ø£Ø®Ø¶Ø± - Ø­Ø§Ø¶Ø± */
Â  Â  Â  Â  Â  Â  box-shadow: 0 8px 32px rgba(76, 175, 80, 0.4);
Â  Â  Â  Â  }

Â  Â  Â  Â  .teacher-card.status-absent {
Â  Â  Â  Â  Â  Â  background: linear-gradient(135deg, #f44336, #ef5350); /* Ø£Ø­Ù…Ø± - ØºØ§Ø¦Ø¨ */
Â  Â  Â  Â  Â  Â  box-shadow: 0 8px 32px rgba(244, 67, 54, 0.4);
Â  Â  Â  Â  }

Â  Â  Â  Â  .teacher-card.status-late {
Â  Â  Â  Â  Â  Â  background: linear-gradient(135deg, #ff9800, #ffb74d); /* Ø¨Ø±ØªÙ‚Ø§Ù„ÙŠ - Ù…ØªØ£Ø®Ø± */
Â  Â  Â  Â  Â  Â  box-shadow: 0 8px 32px rgba(255, 152, 0, 0.4);
Â  Â  Â  Â  }

Â  Â  Â  Â  .teacher-card.status-excused {
Â  Â  Â  Â  Â  Â  background: linear-gradient(135deg, #2196f3, #64b5f6); /* Ø£Ø²Ø±Ù‚ - Ø¨Ø¹Ø°Ø± */
Â  Â  Â  Â  Â  Â  box-shadow: 0 8px 32px rgba(33, 150, 243, 0.4);
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .teacher-card.status-not-recorded {
Â  Â  Â  Â  Â  Â  background: rgba(255, 255, 255, 0.1);Â 
Â  Â  Â  Â  }
Â  Â  Â  Â  /* ============================================== */

Â  Â  Â  Â  .teacher-card:hover { transform: translateY(-10px) rotateY(5deg) rotateX(5deg); box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2); }
Â  Â  Â  Â  .teacher-avatar { width: 80px; height: 80px; border-radius: 50%; background: linear-gradient(45deg, #ff6b9d, #ffa726); display: flex; align-items: center; justify-content: center; font-size: 2rem; color: white; margin: 0 auto 1rem; box-shadow: 0 0 20px rgba(255, 107, 157, 0.3); }
Â  Â  Â  Â  .teacher-name { font-size: 1.3rem; font-weight: 700; text-align: center; margin-bottom: 0.5rem; color: white; }
Â  Â  Â  Â  .teacher-class { text-align: center; color: rgba(255, 255, 255, 0.8); margin-bottom: 1rem; }
Â  Â  Â  Â  .attendance-status { display: flex; justify-content: center; gap: 0.5rem; margin-bottom: 1rem; }
Â  Â  Â  Â  .status-btn { padding: 0.5rem 1rem; border: none; border-radius: 10px; cursor: pointer; transition: all 0.3s ease; font-size: 0.9rem; font-weight: 600; }
Â  Â  Â  Â  .status-btn.present { background: #4caf50; color: white; }
Â  Â  Â  Â  .status-btn.absent { background: #f44336; color: white; }
Â  Â  Â  Â  .status-btn.late { background: #ff9800; color: white; }
Â  Â  Â  Â  .status-btn.excused { background: #2196f3; color: white; }
Â  Â  Â  Â  .status-btn:hover { transform: translateY(-3px); box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2); }
Â  Â  Â  Â  .teacher-actions { display: flex; justify-content: center; gap: 0.5rem; }
Â  Â  Â  Â  .action-btn { padding: 0.5rem; border: none; border-radius: 8px; background: rgba(255, 255, 255, 0.2); color: white; cursor: pointer; transition: all 0.3s ease; }
Â  Â  Â  Â  .action-btn:hover { background: rgba(255, 255, 255, 0.3); transform: scale(1.1); }
Â  Â  Â  Â  .classes-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 1.5rem; }
Â  Â  Â  Â Â 
Â  Â  Â  Â  /* === Ù†Ù…Ø· Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„ØµÙ Ø§Ù„ÙØ§Ø¦Ø² Ø¨Ù†Ø¬Ù… Ø§Ù„Ø·Ø§Ø¨ÙˆØ± === */
Â  Â  Â  Â  .class-card {Â 
Â  Â  Â  Â  Â  Â  padding: 2rem;Â 
Â  Â  Â  Â  Â  Â  position: relative;Â 
Â  Â  Â  Â  Â  Â  overflow: hidden;Â 
Â  Â  Â  Â  Â  Â  transition: all 0.5s ease;
Â  Â  Â  Â  Â  Â  border: 1px solid rgba(255, 255, 255, 0.2); /* Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ */
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .class-card.queue-star-winner {
Â  Â  Â  Â  Â  Â  background: linear-gradient(45deg, #f0e68c, #ffd700); /* Ù„ÙˆÙ† Ø°Ù‡Ø¨ÙŠ Ù„Ø§Ù…Ø¹ */
Â  Â  Â  Â  Â  Â  border: 3px solid white;Â 
Â  Â  Â  Â  Â  Â  box-shadow: 0 0 40px rgba(255, 215, 0, 0.8);
Â  Â  Â  Â  Â  Â  transform: scale(1.05); /* Ø¥Ø¨Ø±Ø§Ø² Ø£ÙƒØ¨Ø± */
Â  Â  Â  Â  }

Â  Â  Â  Â  .class-card.queue-star-winner .class-name,Â 
Â  Â  Â  Â  .class-card.queue-star-winner .class-points,
Â  Â  Â  Â  .class-card.queue-star-winner .criteria-name,
Â  Â  Â  Â  .class-card.queue-star-winner .criteria-points {
Â  Â  Â  Â  Â  Â  color: #333; /* ØªØºÙŠÙŠØ± Ù„ÙˆÙ† Ø§Ù„Ù†Øµ Ø¥Ù„Ù‰ Ø§Ù„Ø¯Ø§ÙƒÙ† Ù„ÙŠØ¸Ù‡Ø± Ø¹Ù„Ù‰ Ø§Ù„Ø®Ù„ÙÙŠØ© Ø§Ù„Ø°Ù‡Ø¨ÙŠØ© */
Â  Â  Â  Â  Â  Â  font-weight: 900;
Â  Â  Â  Â  }

Â  Â  Â  Â  .class-card.queue-star-winner .criteria-row {
Â  Â  Â  Â  Â  Â  background: rgba(255, 255, 255, 0.5);
Â  Â  Â  Â  }
Â  Â  Â  Â  /* =========================================== */

Â  Â  Â  Â  .class-card:hover { transform: translateY(-10px) rotateY(5deg) rotateX(5deg); }
Â  Â  Â  Â  .class-name { font-size: 1.5rem; font-weight: 700; text-align: center; color: white; }
Â  Â  Â  Â  .class-points { text-align: center; font-size: 2rem; font-weight: 900; color: #ffa726; margin-bottom: 1.5rem; }
Â  Â  Â  Â  .criteria-controls { display: flex; flex-direction: column; gap: 1rem; }
Â  Â  Â  Â  .criteria-row { display: flex; justify-content: space-between; align-items: center; padding: 0.5rem; background: rgba(255, 255, 255, 0.1); border-radius: 10px; }
Â  Â  Â  Â  .criteria-name { color: white; font-weight: 600; }
Â  Â  Â  Â  .criteria-controls-btn { display: flex; align-items: center; gap: 1rem; }
Â  Â  Â  Â  .point-btn { width: 40px; height: 40px; border: none; border-radius: 50%; font-size: 1.2rem; font-weight: 700; cursor: pointer; transition: all 0.3s ease; }
Â  Â  Â  Â  .point-btn.plus { background: #4caf50; color: white; }
Â  Â  Â  Â  .point-btn.minus { background: #f44336; color: white; }
Â  Â  Â  Â  .point-btn:hover { transform: scale(1.2); box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3); }
Â  Â  Â  Â  .criteria-points { color: white; font-weight: 700; font-size: 1.1rem; min-width: 30px; text-align: center; }
Â  Â  Â  Â  .system-management { max-width: 800px; margin: 0 auto; }
Â  Â  Â  Â  .password-prompt { text-align: center; padding: 3rem; }
Â  Â  Â  Â  .password-input { padding: 1rem; font-size: 1.2rem; border: none; border-radius: 10px; background: rgba(255, 255, 255, 0.2); color: white; text-align: center; margin: 1rem; width: 300px; }
Â  Â  Â  Â  .password-input::placeholder { color: rgba(255, 255, 255, 0.7); }
Â  Â  Â  Â  .tabs { display: flex; justify-content: center; margin-bottom: 2rem; gap: 0.5rem; flex-wrap: wrap; }
Â  Â  Â  Â  .tab-btn { padding: 1rem 2rem; background: rgba(255, 255, 255, 0.1); color: white; border: none; border-radius: 10px 10px 0 0; cursor: pointer; transition: all 0.3s ease; }
Â  Â  Â  Â  .tab-btn.active { background: rgba(255, 255, 255, 0.2); box-shadow: 0 -5px 15px rgba(0, 0, 0, 0.1); }
Â  Â  Â  Â  .tab-content { display: none; padding: 2rem; background: rgba(255, 255, 255, 0.1); border-radius: 15px; backdrop-filter: blur(20px); }
Â  Â  Â  Â  .tab-content.active { display: block; }
Â  Â  Â  Â  @keyframes modernGradientFlow { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }
Â  Â  Â  Â  @keyframes modernBackgroundPulse { 0%, 100% { opacity: 0.3; transform: scale(1); } 50% { opacity: 0.6; transform: scale(1.1); } }
Â  Â  Â  Â  @keyframes floatOrb { 0% { transform: translateY(100vh) translateX(0) rotate(0deg); } 100% { transform: translateY(-100px) translateX(100px) rotate(360deg); } }
Â  Â  Â  Â  @keyframes sparkleMove { 0% { transform: translateY(100vh); opacity: 0; } 10% { opacity: 1; } 90% { opacity: 1; } 100% { transform: translateY(-100px); opacity: 0; } }
Â  Â  Â  Â  @keyframes rotate { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
Â  Â  Â  Â  @keyframes logoPulse { 0%, 100% { transform: scale(1); box-shadow: 0 0 30px rgba(255, 107, 157, 0.5); } 50% { transform: scale(1.1); box-shadow: 0 0 50px rgba(255, 107, 157, 0.8); } }
Â  Â  Â  Â  @keyframes textGlow { 0% { text-shadow: 0 0 30px rgba(255, 107, 157, 0.5); } 100% { text-shadow: 0 0 50px rgba(255, 107, 157, 0.8), 0 0 70px rgba(255, 165, 38, 0.6); } }
Â  Â  Â  Â  @keyframes fadeInUp { 0% { opacity: 0; transform: translateY(30px); } 100% { opacity: 1; transform: translateY(0); } }
Â  Â  Â  Â  @media (max-width: 768px) {Â 
Â  Â  Â  Â  Â  Â  .main-title { font-size: 2.5rem; }Â 
Â  Â  Â  Â  Â  Â  .header-info { flex-direction: column; gap: 1rem; }Â 
Â  Â  Â  Â  Â  Â  .header-image { width: 150px; height: 150px; }Â 
Â  Â  Â  Â  Â  Â  .navigation { flex-direction: column; }Â 
Â  Â  Â  Â  Â  Â  .teachers-grid, .classes-grid { grid-template-columns: 1fr; }Â 
Â  Â  Â  Â  Â  Â  .attendance-stats { grid-template-columns: repeat(2, 1fr); }Â 
Â  Â  Â  Â  Â  Â  .tabs { flex-direction: column; }Â 
Â  Â  Â  Â  Â  Â  .stars-summary { grid-template-columns: 1fr; }
Â  Â  Â  Â  Â  Â  .star-card { margin: 0.5rem 0; }
Â  Â  Â  Â  }
Â  Â  Â  Â  .loading { display: flex; justify-content: center; align-items: center; padding: 2rem; color: white; font-size: 1.2rem; }
Â  Â  Â  Â  .loading::after { content: ''; width: 20px; height: 20px; border: 2px solid rgba(255, 255, 255, 0.3); border-top: 2px solid white; border-radius: 50%; animation: spin 1s linear infinite; margin-right: 1rem; }
Â  Â  Â  Â  @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
Â  Â  Â  Â  .modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.7); backdrop-filter: blur(10px); z-index: 10000; display: none; justify-content: center; align-items: center; animation: fadeIn 0.3s ease; }
Â  Â  Â  Â  .modal-overlay.active { display: flex; }
Â  Â  Â  Â  .modal-content { background: linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(248, 249, 250, 0.9)); border-radius: 20px; padding: 2rem; max-width: 500px; width: 90%; max-height: 80vh; overflow-y: auto; box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3); border: 2px solid rgba(255, 107, 157, 0.3); position: relative; animation: slideInUp 0.3s ease; }
Â  Â  Â  Â  .modal-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem; padding-bottom: 1rem; border-bottom: 2px solid rgba(255, 107, 157, 0.2); }
Â  Â  Â  Â  .modal-title { font-size: 1.5rem; font-weight: 700; color: #ff6b9d; margin: 0; }
Â  Â  Â  Â  .modal-close { background: none; border: none; font-size: 1.5rem; color: #666; cursor: pointer; padding: 0.5rem; border-radius: 50%; transition: all 0.3s ease; }
Â  Â  Â  Â  .modal-close:hover { background: rgba(244, 67, 54, 0.1); color: #f44336; transform: scale(1.1); }
Â  Â  Â  Â  .modal-body { color: #333; }
Â  Â  Â  Â  .form-group { margin-bottom: 1.5rem; }
Â  Â  Â  Â  .form-label { display: block; margin-bottom: 0.5rem; font-weight: 600; color: #333; }
Â  Â  Â  Â  .form-input { width: 100%; padding: 1rem; border: 2px solid rgba(255, 107, 157, 0.3); border-radius: 10px; font-size: 1rem; font-family: 'Tajawal', sans-serif; background: rgba(255, 255, 255, 0.8); transition: all 0.3s ease; }
Â  Â  Â  Â  .form-input:focus { outline: none; border-color: #ff6b9d; box-shadow: 0 0 20px rgba(255, 107, 157, 0.3); background: white; }
Â  Â  Â  Â  .form-textarea { min-height: 120px; resize: vertical; }
Â  Â  Â  Â  .modal-actions { display: flex; justify-content: flex-end; gap: 1rem; margin-top: 2rem; }
Â  Â  Â  Â  .modal-btn { padding: 0.8rem 2rem; border: none; border-radius: 10px; font-size: 1rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease; font-family: 'Tajawal', sans-serif; }
Â  Â  Â  Â  .modal-btn-primary { background: linear-gradient(45deg, #ff6b9d, #ffa726); color: white; }
Â  Â  Â  Â  .modal-btn-primary:hover { transform: translateY(-3px); box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2); }
Â  Â  Â  Â  .modal-btn-secondary { background: rgba(108, 117, 125, 0.1); color: #6c757d; border: 2px solid rgba(108, 117, 125, 0.3); }
Â  Â  Â  Â  .modal-btn-secondary:hover { background: rgba(108, 117, 125, 0.2); transform: translateY(-3px); }
Â  Â  Â  Â  @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
Â  Â  Â  Â  @keyframes slideInUp { from { opacity: 0; transform: translateY(50px) scale(0.9); } to { opacity: 1; transform: translateY(0) scale(1); } }
Â  Â  Â  Â  .notes-indicator { position: absolute; top: 10px; left: 10px; background: linear-gradient(45deg, #ffa726, #ffcc02); color: white; font-size: 0.8rem; padding: 0.3rem 0.6rem; border-radius: 15px; font-weight: 600; box-shadow: 0 2px 10px rgba(255, 165, 38, 0.4); animation: pulse 2s infinite; }
Â  Â  Â  Â  @keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.05); } }
Â  Â  Â  Â  .report-preview-container { font-family: 'Tajawal', sans-serif; direction: rtl; padding: 2rem; border-radius: 15px; background: white; color: #333; text-align: right; }
Â  Â  Â  Â  .report-header { text-align: center; margin-bottom: 2rem; border-bottom: 2px solid #ddd; padding-bottom: 1rem; }
Â  Â  Â  Â  .report-title { font-size: 2rem; margin-bottom: 0.5rem; }
Â  Â  Â  Â  .report-date { font-size: 1.1rem; color: #666; }
Â  Â  Â  Â  .report-section-title { font-size: 1.5rem; margin-top: 2rem; margin-bottom: 1rem; border-right: 4px solid #ab47bc; padding-right: 1rem; }
Â  Â  Â  Â  .report-list { list-style: none; padding: 0; margin: 0; }
Â  Â  Â  Â  .report-list-item { padding: 0.75rem 1rem; border-bottom: 1px dashed #ddd; display: flex; justify-content: space-between; align-items: center; }
Â  Â  Â  Â  .report-list-item:last-child { border-bottom: none; }
Â  Â  </style>
</head>
<body>
Â  Â  <div class="live-background"></div>
Â  Â  <div class="background-overlay"></div>

Â  Â  <div class="floating-particles" id="particles"></div>

Â  Â  <header class="header glass-morphism">
Â  Â  Â  Â  <div class="logo-container" id="siteHeaderLogo">
Â  Â  Â  Â  Â  Â  <div class="logo">
Â  Â  Â  Â  Â  Â  Â  Â  â­
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <img src="https://lh3.googleusercontent.com/d/1mtn3vRqkD9EotyQGuBAVxjTKxUyzSr3Y"Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  alt="Ø´Ø¹Ø§Ø± Ø§Ù„Ù…Ø¯Ø±Ø³Ø©"Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  class="header-logo-image"
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onerror="this.style.display='none'; console.log('ÙØ´Ù„ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø©');"
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onload="console.log('ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø© Ø¨Ù†Ø¬Ø§Ø­');">
Â  Â  Â  Â  Â  Â  <img src="https://lh3.googleusercontent.com/d/1ER6aW7lGipFE4oZ3LW0vftXyoT9Lmf1n"Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  alt="ØµÙˆØ±Ø© Ø§Ù„Ù…Ø¯Ø±Ø³Ø©"Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  class="header-logo-image"
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onerror="this.style.display='none'; console.log('ÙØ´Ù„ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø©');"
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onload="console.log('ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø© Ø¨Ù†Ø¬Ø§Ø­');">
Â  Â  Â  Â  </div>
Â  Â  Â  Â Â 
Â  Â  Â  Â  <h1 class="main-title">Ø§Ù„Ø·Ø§Ø¨ÙˆØ± Ø§Ù„Ù…Ø¯Ø±Ø³ÙŠ</h1>
Â  Â  Â  Â  <p class="subtitle" id="motivationalSubtitle">Ø§Ù†Ø¶Ø¨Ø§Ø· ÙŠØ¹ÙƒØ³ ÙˆØ¹ÙŠÙ‹Ø§ ÙˆÙ†Ø¸Ø§Ù… ÙŠØµÙ†Ø¹ Ø§Ù„Ø£Ø¬ÙŠØ§Ù„</p>
Â  Â  Â  Â Â 
Â  Â  Â  Â  <div class="header-info">
Â  Â  Â  Â  Â  Â  <div class="info-card glass-morphism">
Â  Â  Â  Â  Â  Â  Â  Â  <div>Ù…Ø¯ÙŠØ±Ø© Ø§Ù„Ù…Ø¯Ø±Ø³Ø©: Ø£.Ø£Ø­Ù„Ø§Ù… Ø¨Ù†Øª Ø¹Ù„ÙŠ Ø§Ù„Ø­Ù…Ø¯Ø§Ù†ÙŠØ©</div>
Â  Â  Â  Â  Â  Â  Â  Â  <div id="currentDateTime"></div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <div class="stars-summary">
Â  Â  Â  Â  Â  Â  <div class="star-card glass-morphism">
Â  Â  Â  Â  Â  Â  Â  Â  <h3>ğŸ† Ù†Ø¬Ù…Ø© Ø§Ù„Ø´Ù‡Ø±</h3>
Â  Â  Â  Â  Â  Â  Â  Â  <p id="starOfMonth">Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø§Ø®ØªÙŠØ§Ø± Ø¨Ø¹Ø¯</p>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div class="star-card glass-morphism">
Â  Â  Â  Â  Â  Â  Â  Â  <h3>â­ Ù†Ø¬Ù… Ø§Ù„Ø·Ø§Ø¨ÙˆØ±</h3>
Â  Â  Â  Â  Â  Â  Â  Â  <p id="queueStar">Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø§Ø®ØªÙŠØ§Ø± Ø¨Ø¹Ø¯</p>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div class="star-card glass-morphism">
Â  Â  Â  Â  Â  Â  Â  Â  <h3>ğŸŒŸ Ù†Ø¬Ù…Ø© Ø§Ù„ÙŠÙˆÙ…</h3>
Â  Â  Â  Â  Â  Â  Â  Â  <p id="starOfDay">Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø§Ø®ØªÙŠØ§Ø± Ø¨Ø¹Ø¯</p>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div class="star-card glass-morphism">
Â  Â  Â  Â  Â  Â  Â  Â  <h3>ğŸ‘‘ Ù†Ø¬Ù… Ø§Ù„Ø·Ø§Ø¨ÙˆØ± Ù„Ù„Ø´Ù‡Ø±</h3>
Â  Â  Â  Â  Â  Â  Â  Â  <p id="queueStarMonth">Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø§Ø®ØªÙŠØ§Ø± Ø¨Ø¹Ø¯</p>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  </header>

Â  Â  <nav class="navigation glass-morphism">
Â  Â  Â  Â  <button class="nav-button active" onclick="showSection('attendance')">
Â  Â  Â  Â  Â  Â  ğŸ‘¥ Ø­Ø¶ÙˆØ± Ø§Ù„Ù…Ø¹Ù„Ù…Ø§Øª
Â  Â  Â  Â  </button>
Â  Â  Â  Â  <button class="nav-button" onclick="showSection('queue-star')">
Â  Â  Â  Â  Â  Â  â­ Ù†Ø¬Ù… Ø§Ù„Ø·Ø§Ø¨ÙˆØ±
Â  Â  Â  Â  </button>
Â  Â  Â  Â  <button class="nav-button" onclick="showSection('system-management')">
Â  Â  Â  Â  Â  Â  âš™ï¸ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù†Ø¸Ø§Ù…
Â  Â  Â  Â  </button>
Â  Â  </nav>

Â  Â  <main class="main-content">
Â  Â  Â  Â  <section id="attendance" class="section active">
Â  Â  Â  Â  Â  Â  <div class="attendance-stats">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="stat-card glass-morphism" style="background: linear-gradient(135deg, #4caf50, #81c784);">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="stat-number" id="presentCount">0</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="stat-label">Ø­Ø§Ø¶Ø±Ø§Øª</div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="stat-card glass-morphism" style="background: linear-gradient(135deg, #f44336, #ef5350);">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="stat-number" id="absentCount">0</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="stat-label">ØºØ§Ø¦Ø¨Ø§Øª</div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="stat-card glass-morphism" style="background: linear-gradient(135deg, #ff9800, #ffb74d);">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="stat-number" id="notRecordedCount">0</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="stat-label">Ù„Ù… ÙŠØªÙ… Ø§Ù„ØªØ³Ø¬ÙŠÙ„</div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="stat-card glass-morphism" style="background: linear-gradient(135deg, #2196f3, #64b5f6);">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="stat-number" id="totalCount">0</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="stat-label">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <div class="glass-morphism" style="padding: 2rem; margin: 2rem 0;">
Â  Â  Â  Â  Â  Â  Â  Â  <h3 style="color: white; text-align: center; margin-bottom: 1rem;">Ø³Ø¬Ù„ Ø§Ù„Ø­Ø¶ÙˆØ± Ø§Ù„ÙŠÙˆÙ…ÙŠ</h3>
Â  Â  Â  Â  Â  Â  Â  Â  <div id="attendanceLog" style="color: white; text-align: center;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø¶ÙˆØ±...
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <div class="teachers-grid" id="teachersGrid">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="glass-morphism loading" style="padding: 3rem; text-align: center; color: white; grid-column: 1 / -1;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¹Ù„Ù…Ø§Øª Ù…Ù† Ø§Ù„Ø®Ø§Ø¯Ù…...
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </section>

Â  Â  Â  Â  <section id="queue-star" class="section">
Â  Â  Â  Â  Â  Â  <div class="classes-grid" id="classesGrid">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="glass-morphism loading" style="padding: 3rem; text-align: center; color: white; grid-column: 1 / -1;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØµÙÙˆÙ Ù…Ù† Ø§Ù„Ø®Ø§Ø¯Ù…...
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </section>

Â  Â  Â  Â  <section id="system-management" class="section">
Â  Â  Â  Â  Â  Â  <div class="system-management glass-morphism">
Â  Â  Â  Â  Â  Â  Â  Â  <div id="passwordPrompt" class="password-prompt">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h2 style="color: white; margin-bottom: 2rem;">ğŸ”’ Ø¥Ø¯Ø®Ø§Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</h2>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="password" class="password-input glass-morphism" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" id="systemPassword">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <br>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="nav-button" onclick="checkSystemPassword()">Ø¯Ø®ÙˆÙ„</button>
Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  <div id="systemContent" style="display: none;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="tabs">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="tab-btn active" onclick="showTab('teachers-management', this)">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø¹Ù„Ù…Ø§Øª</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="tab-btn" onclick="showTab('stars-management', this)">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù†Ø¬ÙˆÙ…</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="tab-btn" onclick="showTab('certificates', this)">Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„Ø´Ù‡Ø§Ø¯Ø§Øª</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="tab-btn" onclick="showTab('reports', this)">ØªØµØ¯ÙŠØ± Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="tab-btn" onclick="showTab('settings', this)">Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="teachers-management" class="tab-content active">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3 style="color: white; text-align: center; margin-bottom: 2rem;">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø¹Ù„Ù…Ø§Øª ÙˆØ§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</h3>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="glass-morphism" style="padding: 2rem; margin-bottom: 2rem;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h4 style="color: white; margin-bottom: 1rem;">ğŸ“Š Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù…</h4>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="dataManagementInfo" style="color: white; margin-bottom: 1rem; padding: 1rem; background: rgba(255,255,255,0.1); border-radius: 10px;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="nav-button" onclick="loadDataFromSheet()">ğŸ”„ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ø§Ù„Ø´ÙŠØª</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="nav-button" onclick="exportSavedData()">ğŸ“¤ ØªØµØ¯ÙŠØ± Ù†Ø³Ø®Ø© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="nav-button" onclick="importSavedData()">ğŸ“¥ Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ù†Ø³Ø®Ø© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="nav-button" onclick="clearAllSavedData()" style="background: #f44336;">ğŸ—‘ï¸ Ù…Ø³Ø­ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="glass-morphism" style="padding: 2rem; margin-bottom: 2rem;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h4 style="color: white; margin-bottom: 1rem;">ğŸ“‹ Ø±Ø§Ø¨Ø· Ø§Ù„Ø´ÙŠØª Ù„Ù„Ø¨ÙŠØ§Ù†Ø§Øª</h4>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div style="color: white; margin-bottom: 1rem; padding: 1rem; background: rgba(33, 150, 243, 0.2); border-radius: 10px;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p style="margin-bottom: 0.5rem;">**Ù…Ù„Ø§Ø­Ø¸Ø©:** Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø¢Ù† ÙŠØªØ²Ø§Ù…Ù† Ù…Ø¹ Ø§Ù„Ø´ÙŠØª. **Ù„Ø¥Ø¶Ø§ÙØ© Ù…Ø¹Ù„Ù…Ø© Ø¬Ø¯ÙŠØ¯Ø©ØŒ ÙŠÙØ¶Ù„ Ø¥Ø¶Ø§ÙØªÙ‡Ø§ Ù…Ø¨Ø§Ø´Ø±Ø© ÙÙŠ ÙˆØ±Ù‚Ø© "Teachers" ÙÙŠ Google Sheet Ù„Ø¥Ø¹Ø·Ø§Ø¦Ù‡Ø§ ID ØµØ­ÙŠØ­**.</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div style="color: white; font-size: 0.9rem; word-break: break-all; background: rgba(255,255,255,0.1); padding: 1rem; border-radius: 8px;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <strong>ğŸ”— Ø±Ø§Ø¨Ø· Ø§Ù„Ø´ÙŠØª Ø§Ù„Ù…Ø±Ø¬Ø¹ÙŠ (API):</strong><br>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span id="apiLinkDisplay"></span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="glass-morphism" style="padding: 2rem; margin-bottom: 2rem;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h4 style="color: white; margin-bottom: 1rem;">Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ø¬Ø¯ÙŠØ¯ (Ø³Ø¬Ù„ ØªØ§Ø±ÙŠØ®ÙŠ)</h4>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div style="display: flex; justify-content: center; gap: 1rem; flex-wrap: wrap;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="nav-button" onclick="resetAllAttendance()" style="background: linear-gradient(45deg, #e7823f, #ffaa00); border: 2px solid rgba(255, 255, 255, 0.5);">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ğŸ’¾ Ø£Ø±Ø´ÙØ© ÙˆÙ…Ø³Ø­ Ø³Ø¬Ù„ Ø§Ù„Ø­Ø¶ÙˆØ± (ÙŠØ¯ÙˆÙŠ)
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p style="color: rgba(255,255,255,0.7); margin-top: 10px;">(Ø§Ù„Ø±Ø¬Ø§Ø¡ ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù…Ø´ØºÙ„ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ ÙÙŠ Apps Script)</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div style="display: flex; justify-content: center; gap: 1rem; margin-bottom: 2rem; flex-wrap: wrap;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="nav-button" onclick="showAddTeacherForm()">â• Ø¥Ø¶Ø§ÙØ© Ù…Ø¹Ù„Ù…Ø© Ø¬Ø¯ÙŠØ¯Ø© (Ù…Ø­Ù„ÙŠØ§Ù‹ ÙÙ‚Ø·)</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="glass-morphism" style="padding: 2rem; margin-bottom: 2rem;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h4 style="color: white; margin-bottom: 1rem;">ğŸ“Š Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù†Ù‚Ø§Ø·</h4>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="nav-button" onclick="resetAllDailyPoints()">ğŸ“… Ù…Ø³Ø­ Ù†Ù‚Ø§Ø· Ø§Ù„ÙŠÙˆÙ… Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„ØµÙÙˆÙ</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="nav-button" onclick="addAllDailyToMonthly()">ğŸ“Š Ø¥Ø¶Ø§ÙØ© Ù†Ù‚Ø§Ø· Ø§Ù„ÙŠÙˆÙ… Ù„Ù„Ø´Ù‡Ø±</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="nav-button" onclick="resetAllMonthlyPoints()">ğŸ—“ï¸ Ù…Ø³Ø­ Ø§Ù„Ù†Ù‚Ø§Ø· Ø§Ù„Ø´Ù‡Ø±ÙŠØ©</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="nav-button" onclick="resetAllPoints()">ğŸ”„ Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù†Ù‚Ø§Ø·</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="addTeacherForm" class="tab-content">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h4 style="color: white; margin-bottom: 1rem;">Ø¥Ø¶Ø§ÙØ© Ù…Ø¹Ù„Ù…Ø© Ø¬Ø¯ÙŠØ¯Ø©</h4>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div style="display: flex; justify-content: center; gap: 1rem; align-items: center; flex-wrap: wrap;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="text" id="newTeacherName" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø¹Ù„Ù…Ø©" class="password-input glass-morphism" style="width: 200px;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="text" id="newTeacherClass" placeholder="Ø§Ù„ØµÙ" class="password-input glass-morphism" style="width: 150px;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="nav-button" onclick="addNewTeacher()">Ø¥Ø¶Ø§ÙØ©</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="nav-button" onclick="hideAddTeacherForm()" style="background: #f44336;">Ø¥Ù„ØºØ§Ø¡</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="glass-morphism" style="padding: 2rem;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h4 style="color: white; margin-bottom: 1rem;">Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø¹Ù„Ù…Ø§Øª</h4>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="teachersManagementList" style="max-height: 400px; overflow-y: auto;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="stars-management" class="tab-content">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3 style="color: white; text-align: center; margin-bottom: 2rem;">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù†Ø¬ÙˆÙ…</h3>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="glass-morphism" style="padding: 2rem; margin-bottom: 2rem;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h4 style="color: white; margin-bottom: 1rem;">Ø§Ø®ØªÙŠØ§Ø± Ù†Ø¬ÙˆÙ… Ø§Ù„ÙŠÙˆÙ… (ØªÙ„Ù‚Ø§Ø¦ÙŠ)</h4>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1rem;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label style="color: white; display: block; margin-bottom: 0.5rem;">ğŸŒŸ Ù†Ø¬Ù…Ø© Ø§Ù„ÙŠÙˆÙ…:</label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <select id="starOfDaySelect" class="password-input glass-morphism" style="width: 100%;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="">Ø§Ø®ØªØ± Ø§Ù„Ù…Ø¹Ù„Ù…Ø©</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </select>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label style="color: white; display: block; margin-bottom: 0.5rem;">â­ Ù†Ø¬Ù… Ø§Ù„Ø·Ø§Ø¨ÙˆØ±:</label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <select id="queueStarSelect" class="password-input glass-morphism" style="width: 100%;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="">Ø§Ø®ØªØ± Ø§Ù„ØµÙ</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </select>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div style="text-align: center; margin-top: 1rem;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="nav-button" onclick="updateDailyStars()">ØªØ­Ø¯ÙŠØ« Ù†Ø¬ÙˆÙ… Ø§Ù„ÙŠÙˆÙ…</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="glass-morphism" style="padding: 2rem;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h4 style="color: white; text-align: center; margin-bottom: 1rem;">Ù†Ø¬ÙˆÙ… Ø§Ù„Ø´Ù‡Ø± (ØªÙ„Ù‚Ø§Ø¦ÙŠ)</h4>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p style="color: rgba(255, 255, 255, 0.9); text-align: center; margin-bottom: 2rem;">ÙŠØªÙ… Ø§Ø®ØªÙŠØ§Ø± Ù†Ø¬ÙˆÙ… Ø§Ù„Ø´Ù‡Ø± ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ù†Ù‚Ø§Ø· Ø§Ù„Ø´Ù‡Ø±ÙŠØ© Ø§Ù„Ø£Ø¹Ù„Ù‰.</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1rem;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label style="color: white; display: block; margin-bottom: 0.5rem;">ğŸ† Ù†Ø¬Ù…Ø© Ø§Ù„Ø´Ù‡Ø±:</label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <select id="starOfMonthSelect" class="password-input glass-morphism" style="width: 100%;" disabled>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="">ÙŠØªÙ… Ø§Ù„ØªØ­Ø¯ÙŠØ¯ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </select>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label style="color: white; display: block; margin-bottom: 0.5rem;">ğŸ‘‘ Ù†Ø¬Ù… Ø§Ù„Ø·Ø§Ø¨ÙˆØ± Ù„Ù„Ø´Ù‡Ø±:</label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <select id="queueStarMonthSelect" class="password-input glass-morphism" style="width: 100%;" disabled>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="">ÙŠØªÙ… Ø§Ù„ØªØ­Ø¯ÙŠØ¯ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </select>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="certificates" class="tab-content">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3 style="color: white; text-align: center; margin-bottom: 2rem;">Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„Ø´Ù‡Ø§Ø¯Ø§Øª</h3>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div style="display: flex; justify-content: center; gap: 1rem; margin-bottom: 2rem; flex-wrap: wrap;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="nav-button" onclick="createStarCertificate('starOfDay')">ğŸŒŸ Ø´Ù‡Ø§Ø¯Ø© Ù†Ø¬Ù…Ø© Ø§Ù„ÙŠÙˆÙ…</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="nav-button" onclick="createStarCertificate('dailyClass')">â­ Ø´Ù‡Ø§Ø¯Ø© Ù†Ø¬Ù… Ø§Ù„Ø·Ø§Ø¨ÙˆØ±</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="nav-button" onclick="createStarCertificate('starOfMonth')">ğŸ† Ø´Ù‡Ø§Ø¯Ø© Ù†Ø¬Ù…Ø© Ø§Ù„Ø´Ù‡Ø±</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="nav-button" onclick="createStarCertificate('queueStarMonth')">ğŸ‘‘ Ø´Ù‡Ø§Ø¯Ø© Ù†Ø¬Ù… Ø§Ù„Ø·Ø§Ø¨ÙˆØ± Ù„Ù„Ø´Ù‡Ø±</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="nav-button" onclick="createStarCertificate('attendance')">ğŸ“‹ Ø´Ù‡Ø§Ø¯Ø© Ø§Ù„Ø­Ø¶ÙˆØ±</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="glass-morphism" style="padding: 2rem;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h4 style="color: white; margin-bottom: 1rem;">Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ø´Ù‡Ø§Ø¯Ø© (Ø§Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø²Ø± Ø§Ù„Ø´Ù‡Ø§Ø¯Ø© Ù„Ù„ØªØµØ¯ÙŠØ±)</h4>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="certificatePreviewContainer" style="background: white; padding: 2rem; border-radius: 15px; text-align: center; color: #333; min-height: 400px; position: relative;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p id="certificatePlaceholder">Ø§Ø®ØªØ± Ù†ÙˆØ¹ Ø§Ù„Ø´Ù‡Ø§Ø¯Ø© Ù„Ù…Ø¹Ø§ÙŠÙ†ØªÙ‡Ø§ (Ø³ÙŠØªÙ… ØªØµØ¯ÙŠØ±Ù‡Ø§ ÙƒÙ€ PDF Ù…Ø¨Ø§Ø´Ø±Ø©)</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="reports" class="tab-content">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3 style="color: white; text-align: center; margin-bottom: 2rem;">ØªØµØ¯ÙŠØ± Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± ÙˆØ§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</h3>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="glass-morphism" style="padding: 2rem; margin-bottom: 2rem;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h4 style="color: white; margin-bottom: 1rem;">ğŸ“Š ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ø­Ø¶ÙˆØ±</h4>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin-bottom: 1rem;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="nav-button" onclick="generateAndExportDailyAttendance('image')">ğŸ“¸ ØªÙ‚Ø±ÙŠØ± ÙŠÙˆÙ…ÙŠ (ØµÙˆØ±Ø©)</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="nav-button" onclick="generateAndExportDailyAttendance('excel')">ğŸ“Š ØªÙ‚Ø±ÙŠØ± ÙŠÙˆÙ…ÙŠ (Excel)</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="nav-button" onclick="generateAndExportDailyAttendance('pdf')">ğŸ“„ ØªÙ‚Ø±ÙŠØ± ÙŠÙˆÙ…ÙŠ (PDF)</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin-bottom: 1rem;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="nav-button" onclick="generateAndExportWeeklyAttendance('image')">ğŸ“¸ ØªÙ‚Ø±ÙŠØ± Ø£Ø³Ø¨ÙˆØ¹ÙŠ (ØµÙˆØ±Ø©)</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="nav-button" onclick="generateAndExportWeeklyAttendance('excel')">ğŸ“Š ØªÙ‚Ø±ÙŠØ± Ø£Ø³Ø¨ÙˆØ¹ÙŠ (Excel)</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="nav-button" onclick="generateAndExportWeeklyAttendance('pdf')">ğŸ“„ ØªÙ‚Ø±ÙŠØ± Ø£Ø³Ø¨ÙˆØ¹ÙŠ (PDF)</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="nav-button" onclick="generateAndExportMonthlyAttendance('image')">ğŸ“¸ ØªÙ‚Ø±ÙŠØ± Ø´Ù‡Ø±ÙŠ (ØµÙˆØ±Ø©)</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="nav-button" onclick="generateAndExportMonthlyAttendance('excel')">ğŸ“Š ØªÙ‚Ø±ÙŠØ± Ø´Ù‡Ø±ÙŠ (Excel)</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="nav-button" onclick="generateAndExportMonthlyAttendance('pdf')">ğŸ“„ ØªÙ‚Ø±ÙŠØ± Ø´Ù‡Ø±ÙŠ (PDF)</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="glass-morphism" style="padding: 2rem; margin-bottom: 2rem;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h4 style="color: white; margin-bottom: 1rem;">â­ ØªÙ‚Ø§Ø±ÙŠØ± Ù†Ø¬ÙˆÙ… Ø§Ù„Ø·Ø§Ø¨ÙˆØ±</h4>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin-bottom: 1rem;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="nav-button" onclick="generateAndExportDailyStars('image')">ğŸ“¸ Ù†Ø¬ÙˆÙ… ÙŠÙˆÙ…ÙŠØ© (ØµÙˆØ±Ø©)</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="nav-button" onclick="generateAndExportDailyStars('excel')">ğŸ“Š Ù†Ø¬ÙˆÙ… ÙŠÙˆÙ…ÙŠØ© (Excel)</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="nav-button" onclick="generateAndExportDailyStars('pdf')">ğŸ“„ Ù†Ø¬ÙˆÙ… ÙŠÙˆÙ…ÙŠØ© (PDF)</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin-bottom: 1rem;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="nav-button" onclick="generateAndExportWeeklyStars('image')">ğŸ“¸ Ù†Ø¬ÙˆÙ… Ø£Ø³Ø¨ÙˆØ¹ÙŠØ© (ØµÙˆØ±Ø©)</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="nav-button" onclick="generateAndExportWeeklyStars('excel')">ğŸ“Š Ù†Ø¬ÙˆÙ… Ø£Ø³Ø¨ÙˆØ¹ÙŠØ© (Excel)</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="nav-button" onclick="generateAndExportWeeklyStars('pdf')">ğŸ“„ Ù†Ø¬ÙˆÙ… Ø£Ø³Ø¨ÙˆØ¹ÙŠØ© (PDF)</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="nav-button" onclick="generateAndExportMonthlyStars('image')">ğŸ“¸ Ù†Ø¬ÙˆÙ… Ø´Ù‡Ø±ÙŠØ© (ØµÙˆØ±Ø©)</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="nav-button" onclick="generateAndExportMonthlyStars('excel')">ğŸ“Š Ù†Ø¬ÙˆÙ… Ø´Ù‡Ø±ÙŠØ© (Excel)</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="nav-button" onclick="generateAndExportMonthlyStars('pdf')">ğŸ“„ Ù†Ø¬ÙˆÙ… Ø´Ù‡Ø±ÙŠØ© (PDF)</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="glass-morphism" style="padding: 2rem; margin-bottom: 2rem;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h4 style="color: white; margin-bottom: 1rem;">ğŸ“‹ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ø´Ø§Ù…Ù„Ø©</h4>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="nav-button" onclick="exportCompleteReport('excel')">ğŸ“Š ØªÙ‚Ø±ÙŠØ± Ø´Ø§Ù…Ù„ (Excel)</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="nav-button" onclick="exportCompleteReport('pdf')">ğŸ“„ ØªÙ‚Ø±ÙŠØ± Ø´Ø§Ù…Ù„ (PDF)</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="glass-morphism" style="padding: 2rem;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h4 style="color: white; margin-bottom: 1rem;">ğŸ‘ï¸ Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„ØªÙ‚Ø±ÙŠØ±</h4>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="reportPreviewContainer" style="background: white; padding: 2rem; border-radius: 15px; text-align: center; color: #333; min-height: 300px; max-height: 500px; overflow-y: auto;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p id="reportPlaceholder">Ø§Ø®ØªØ± Ù†ÙˆØ¹ Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ù„Ù…Ø¹Ø§ÙŠÙ†ØªÙ‡</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="reportToExport" style="display:none; padding:1rem; border:2px solid #333; background:white; max-width:900px; margin:auto;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div style="text-align: center; margin-top: 1rem;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="nav-button" onclick="printReport()">ğŸ–¨ï¸ Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„ØªÙ‚Ø±ÙŠØ±</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="settings" class="tab-content">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3 style="color: white; text-align: center;">Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</h3>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div style="color: white;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div style="margin: 1rem 0;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label>ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ø§Ù„Ù†Ø¸Ø§Ù…:</label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="password" class="password-input glass-morphism" id="newSystemPassword" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="nav-button" onclick="updateSystemPassword()">ØªØ­Ø¯ÙŠØ«</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div style="margin: 1rem 0;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label>Ø§Ù„Ø¹Ø¨Ø§Ø±Ø© Ø§Ù„ØªØ­ÙÙŠØ²ÙŠØ©:</label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="text" class="password-input glass-morphism" id="motivationalText" placeholder="Ø§Ù†Ø¶Ø¨Ø§Ø· ÙŠØ¹ÙƒØ³ ÙˆØ¹ÙŠÙ‹Ø§ ÙˆÙ†Ø¸Ø§Ù… ÙŠØµÙ†Ø¹ Ø§Ù„Ø£Ø¬ÙŠØ§Ù„" style="width: 400px;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="nav-button" onclick="updateMotivationalText()">ØªØ­Ø¯ÙŠØ«</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </section>
Â  Â  </main>

Â  Â  Â  Â  <div id="teacherModal" class="modal-overlay">
Â  Â  Â  Â  <div class="modal-content">
Â  Â  Â  Â  Â  Â  <div class="modal-header">
Â  Â  Â  Â  Â  Â  Â  Â  <h3 class="modal-title">ØªØ¹Ø¯ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¹Ù„Ù…Ø©</h3>
Â  Â  Â  Â  Â  Â  Â  Â  <button class="modal-close" onclick="closeTeacherModal()">Ã—</button>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div class="modal-body">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="form-group">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label class="form-label">Ø§Ø³Ù… Ø§Ù„Ù…Ø¹Ù„Ù…Ø©:</label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="text" id="editTeacherName" class="form-input" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø¹Ù„Ù…Ø©">
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="form-group">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label class="form-label">Ø§Ù„ØµÙ:</label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="text" id="editTeacherClass" class="form-input" placeholder="Ø§Ù„ØµÙ">
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="form-group">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label class="form-label">Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª:</label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <textarea id="editTeacherNotes" class="form-input form-textarea" placeholder="Ø£Ø¶Ù Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø­ÙˆÙ„ Ø§Ù„Ù…Ø¹Ù„Ù…Ø©..."></textarea>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div class="modal-actions">
Â  Â  Â  Â  Â  Â  Â  Â  <button class="modal-btn modal-btn-secondary" onclick="closeTeacherModal()">Ø¥Ù„ØºØ§Ø¡</button>
Â  Â  Â  Â  Â  Â  Â  Â  <button class="modal-btn modal-btn-primary" onclick="saveTeacherChanges()">Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª</button>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  </div>

Â  Â  <div id="classModal" class="modal-overlay">
Â  Â  Â  Â  <div class="modal-content">
Â  Â  Â  Â  Â  Â  <div class="modal-header">
Â  Â  Â  Â  Â  Â  Â  Â  <h3 class="modal-title">ØªØ¹Ø¯ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØµÙ</h3>
Â  Â  Â  Â  Â  Â  Â  Â  <button class="modal-close" onclick="closeClassModal()">Ã—</button>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div class="modal-body">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="form-group">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label class="form-label">Ø§Ø³Ù… Ø§Ù„ØµÙ:</label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="text" id="editClassName" class="form-input" placeholder="Ø§Ø³Ù… Ø§Ù„ØµÙ">
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="form-group">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label class="form-label">Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª:</label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <textarea id="editClassNotes" class="form-input form-textarea" placeholder="Ø£Ø¶Ù Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø­ÙˆÙ„ Ø§Ù„ØµÙ..."></textarea>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div class="modal-actions">
Â  Â  Â  Â  Â  Â  Â  Â  <button class="modal-btn modal-btn-secondary" onclick="closeClassModal()">Ø¥Ù„ØºØ§Ø¡</button>
Â  Â  Â  Â  Â  Â  Â  Â  <button class="modal-btn modal-btn-primary" onclick="saveClassChanges()">Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª</button>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  </div>

Â  Â  <div id="cameraModal" class="modal-overlay">
Â  Â  Â  Â  <div class="modal-content" style="max-width: 800px; max-height: 90vh;">
Â  Â  Â  Â  Â  Â  <div class="modal-header">
Â  Â  Â  Â  Â  Â  Â  Â  <h3 class="modal-title">ğŸ“¸ ØªØµÙˆÙŠØ± Ø§Ù„Ø·Ø§Ø¨ÙˆØ±</h3>
Â  Â  Â  Â  Â  Â  Â  Â  <button class="modal-close" onclick="closeCameraModal()">Ã—</button>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div class="modal-body">
Â  Â  Â  Â  Â  Â  Â  Â  <div id="cameraContainer" style="text-align: center;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="cameraPreview" style="position: relative; margin-bottom: 1rem;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <video id="cameraVideo" style="width: 100%; max-width: 600px; height: auto; border-radius: 10px; background: #000;" autoplay muted></video>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <canvas id="cameraCanvas" style="display: none;"></canvas>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="photoOverlay" style="position: absolute; bottom: 10px; left: 10px; right: 10px; background: rgba(0,0,0,0.7); color: white; padding: 10px; border-radius: 8px; font-family: 'Tajawal', sans-serif;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="overlayTeacherName" style="font-size: 1.2rem; font-weight: bold; margin-bottom: 5px;"></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="overlayClassName" style="font-size: 1rem; margin-bottom: 5px;"></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="overlayDateTime" style="font-size: 0.9rem; opacity: 0.9;"></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div style="display: flex; justify-content: center; gap: 1rem; flex-wrap: wrap; margin-bottom: 1rem;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button id="startCameraBtn" class="modal-btn modal-btn-primary" onclick="startCamera()">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ğŸ“¹ ØªØ´ØºÙŠÙ„ Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button id="captureBtn" class="modal-btn modal-btn-primary" onclick="capturePhoto()" style="display: none;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ğŸ“¸ Ø§Ù„ØªÙ‚Ø§Ø· Ø§Ù„ØµÙˆØ±Ø©
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button id="switchCameraBtn" class="modal-btn modal-btn-secondary" onclick="switchCamera()" style="display: none;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ğŸ”„ ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button id="stopCameraBtn" class="modal-btn modal-btn-secondary" onclick="stopCamera()" style="display: none;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â¹ï¸ Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="capturedPhotos" style="display: none;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h4 style="color: #333; margin-bottom: 1rem;">Ø§Ù„ØµÙˆØ± Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©:</h4>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="photosGrid" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 1rem; max-height: 300px; overflow-y: auto;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="cameraStatus" style="margin-top: 1rem; padding: 1rem; border-radius: 8px; display: none;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div class="modal-actions">
Â  Â  Â  Â  Â  Â  Â  Â  <button class="modal-btn modal-btn-secondary" onclick="closeCameraModal()">Ø¥ØºÙ„Ø§Ù‚</button>
Â  Â  Â  Â  Â  Â  Â  Â  <button class="modal-btn modal-btn-primary" onclick="downloadAllPhotos()" id="downloadAllBtn" style="display: none;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ğŸ’¾ ØªØ­Ù…ÙŠÙ„ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØµÙˆØ±
Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  </div>

Â  Â  <script>
Â  Â  Â  Â  // =======================================================
Â  Â  Â  Â  // 1. Ø¥Ø¹Ø¯Ø§Ø¯ Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù… Ù„Ù„Ù…Ø²Ø§Ù…Ù†Ø©
Â  Â  Â  Â  // =======================================================
Â  Â  Â  Â  let teachers = [];
Â  Â  Â  Â  let classes = [];

Â  Â  Â  Â  // âš ï¸ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
Â  Â  Â  Â  let systemPassword = 'admin123';
Â  Â  Â  Â  let motivationalQuote = 'Ø§Ù†Ø¶Ø¨Ø§Ø· ÙŠØ¹ÙƒØ³ ÙˆØ¹ÙŠÙ‹Ø§ ÙˆÙ†Ø¸Ø§Ù… ÙŠØµÙ†Ø¹ Ø§Ù„Ø£Ø¬ÙŠØ§Ù„';

Â  Â  Â  Â  // â­ï¸ Ø§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ø­Ø¯Ø« Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø·Ù„Ø¨Ùƒ Ø§Ù„Ø£Ø®ÙŠØ±
Â  Â  Â  Â  const SHEET_API_URL = 'https://script.google.com/macros/s/AKfycbzyEx0-gmYstNeOETO5FSlPkNawtmSJzkCE35M8Mk1dthVrnH2klKcV5cznKebDLvWR/exec';Â 

Â  Â  Â  Â  // Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª
Â  Â  Â  Â  let currentEditingTeacherId = null;
Â  Â  Â  Â  let currentEditingClassIndex = null;
Â  Â  Â  Â  let currentCameraTeacherId = null;
Â  Â  Â  Â  let cameraStream = null;
Â  Â  Â  Â  let currentCameraIndex = 0;
Â  Â  Â  Â  let availableCameras = [];
Â  Â  Â  Â  let capturedPhotosData = [];
        
        // ===================================================
        // ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ù…ÙˆØ¯Ø§Ù„ (Ù„Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ Ø§Ù„Ø³ÙŠØ§Ù‚ ÙÙŠ Ø§Ù„Ø£Ø³ÙÙ„)
        // ===================================================
        function openTeacherModal(id) {
            const teacher = teachers.find(t => t.id === id);
            if (!teacher) return;
            currentEditingTeacherId = id;
            document.getElementById('editTeacherName').value = teacher.name;
            document.getElementById('editTeacherClass').value = teacher.class;
            document.getElementById('editTeacherNotes').value = teacher.notes;
            document.getElementById('teacherModal').classList.add('active');
        }
        function closeTeacherModal() {
            document.getElementById('teacherModal').classList.remove('active');
            currentEditingTeacherId = null;
        }
        function openClassModal(index) {
            const classItem = classes[index];
            if (!classItem) return;
            currentEditingClassIndex = index;
            document.getElementById('editClassName').value = classItem.name;
            document.getElementById('editClassNotes').value = classItem.notes;
            document.getElementById('classModal').classList.add('active');
        }
        function closeClassModal() {
            document.getElementById('classModal').classList.remove('active');
            currentEditingClassIndex = null;
        }

Â  Â  Â  Â  // =======================================================
Â  Â  Â  Â  // 2. Ø¢Ù„ÙŠØ§Øª Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø´ÙŠØª (READ/WRITE)
Â  Â  Â  Â  // =======================================================

Â  Â  Â  Â  async function loadDataFromSheet() {
Â  Â  Â  Â  Â  Â  console.log('ğŸ”„ Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Google Sheet API...');
Â  Â  Â  Â  Â  Â Â 
            document.getElementById('teachersGrid').innerHTML = '<div class="glass-morphism loading" style="padding: 3rem; text-align: center; color: white; grid-column: 1 / -1;">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¹Ù„Ù…Ø§Øª ÙˆØ§Ù„ØµÙÙˆÙ...</div>';
            document.getElementById('classesGrid').innerHTML = '<div class="glass-morphism loading" style="padding: 3rem; text-align: center; color: white; grid-column: 1 / -1;">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¹Ù„Ù…Ø§Øª ÙˆØ§Ù„ØµÙÙˆÙ...</div>';


Â  Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  Â  Â  const response = await fetch(SHEET_API_URL, { method: 'GET' });
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  if (!response.ok) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  throw new Error(`HTTP error! status: ${response.status}`);
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  const data = await response.json();

Â  Â  Â  Â  Â  Â  Â  Â  if (data.status === 'error') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  throw new Error(`API Error: ${data.message}`);
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ© Ø¨Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø´ÙŠØª
Â  Â  Â  Â  Â  Â  Â  Â  teachers = data.teachers.map(t => ({
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  id: Number(t.ID),Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  name: t.Name,Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  class: t.Class,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  status: t.Status || 'not-recorded',Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  timestamp: t.Timestamp || null,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  notes: t.Notes || '',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // Ø¥Ø¶Ø§ÙØ© Ù†Ù‚Ø§Ø· Ø´Ù‡Ø±ÙŠØ© Ù„Ù„Ù…Ø¹Ù„Ù…Ø§Øª Ù„Ù„Ù…Ù‚Ø§Ø±Ù†Ø© 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  monthlyPoints: Number(t.MonthlyPoints) || 0Â 
Â  Â  Â  Â  Â  Â  Â  Â  }));
Â  Â  Â  Â  Â  Â  Â  Â  classes = data.classes.map(c => ({
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  name: c.ClassName,Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  totalPoints: Number(c.TotalPoints) || 0,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  dailyPoints: Number(c.DailyPoints) || 0,Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  monthlyPoints: Number(c.MonthlyPoints) || 0, // ğŸ’¡ Ø£Ù‡Ù… Ù†Ù‚Ø·Ø©: Ù†Ù‚Ø§Ø· Ø§Ù„Ø´Ù‡Ø±
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  quiet: Number(c.Quiet) || 0,Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  speed: Number(c.Speed) || 0,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  volume: Number(c.Volume) || 0,Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  cleanliness: Number(c.Cleanliness) || 0,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  notes: c.Notes || ''
Â  Â  Â  Â  Â  Â  Â  Â  }));
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  // â­ï¸ ØªØ­Ø¯ÙŠØ« Ù…Ù„Ø®ØµØ§Øª Ø§Ù„Ù†Ø¬ÙˆÙ… ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø¨Ø¹Ø¯ Ø§Ù„Ø¬Ù„Ø¨
Â  Â  Â  Â  Â  Â  Â  Â  updateStarSummaries();
Â  Â  Â  Â  Â  Â  Â  Â  renderTeachers();
Â  Â  Â  Â  Â  Â  Â  Â  renderClasses();
Â  Â  Â  Â  Â  Â  Â  Â  updateStats();
Â  Â  Â  Â  Â  Â  Â  Â  updateStarSelects();
Â  Â  Â  Â  Â  Â  Â  Â  updateDataManagement();
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  console.log(`âœ… ØªÙ… ØªØ­Ù…ÙŠÙ„: ${teachers.length} Ù…Ø¹Ù„Ù…Ø© Ùˆ ${classes.length} ØµÙ.`);
Â  Â  Â  Â  Â  Â  Â  Â  return true;

Â  Â  Â  Â  Â  Â  } catch (error) {
Â  Â  Â  Â  Â  Â  Â  Â  console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† API:', error);
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('teachersGrid').innerHTML = '<div class="glass-morphism" style="padding: 3rem; text-align: center; color: white; grid-column: 1 / -1;"><h3>âŒ ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</h3><p>ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø±Ø§Ø¨Ø· API ÙˆØ¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù†Ø´Ø±.</p></div>';
Â  Â  Â  Â  Â  Â  Â  Â  return false;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  async function syncToSheet(action, payload) {
Â  Â  Â  Â  Â  Â  if (!SHEET_API_URL) return { status: 'error', message: 'API URL not set.' };

Â  Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  Â  Â  const fullPayload = { action: action, ...payload };
Â  Â  Â  Â  Â  Â  Â  Â  console.log(`ğŸ“¤ Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨ ${action} Ø¥Ù„Ù‰ Ø§Ù„Ø´ÙŠØª:`, fullPayload);

Â  Â  Â  Â  Â  Â  Â  Â  const response = await fetch(SHEET_API_URL, {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  method: 'POST',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  mode: 'no-cors',Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  headers: { 'Content-Type': 'application/json' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  body: JSON.stringify(fullPayload)
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  return { status: 'success', message: 'Sync request sent.' };Â 

Â  Â  Â  Â  Â  Â  } catch (error) {
Â  Â  Â  Â  Â  Â  Â  Â  console.error(`âŒ ÙØ´Ù„ Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„ØªØºÙŠÙŠØ± (${action}):`, error);
Â  Â  Â  Â  Â  Â  Â  Â  return { status: 'error', message: error.message };
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  function loadDataFromSheets() {
Â  Â  Â  Â  Â  Â  loadDataFromSheet();
Â  Â  Â  Â  }

Â  Â  Â  Â  // =======================================================
Â  Â  Â  Â  // 3. Ø§Ù„Ø¯ÙˆØ§Ù„ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ø§Ù„ØªÙŠ ØªØ³ØªØ¯Ø¹ÙŠ Ø§Ù„Ù€ Sync
Â  Â  Â  Â  // =======================================================

Â  Â  Â  Â  function getStatusText(status) {Â 
Â  Â  Â  Â  Â  Â  const statusMap = { 'present': 'Ø­Ø§Ø¶Ø±Ø©', 'absent': 'ØºØ§Ø¦Ø¨Ø©', 'late': 'Ù…ØªØ£Ø®Ø±Ø©', 'excused': 'Ø¨Ø¹Ø°Ø±', 'not-recorded': 'Ù„Ù… ÙŠØªÙ… Ø§Ù„ØªØ³Ø¬ÙŠÙ„' };
Â  Â  Â  Â  Â  Â  return statusMap[status] || 'Ù„Ù… ÙŠØªÙ… Ø§Ù„ØªØ³Ø¬ÙŠÙ„';Â 
Â  Â  Â  Â  }

Â  Â  Â  Â  function updatePointsWithSave(classIndex, criteria, change) {
Â  Â  Â  Â  Â  Â  const classItem = classes[classIndex];
Â  Â  Â  Â  Â  Â  if (!classItem) return;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  const currentValue = Number(classItem[criteria]) || 0;Â 
Â  Â  Â  Â  Â  Â  const newValue = Math.max(0, currentValue + change);Â 
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù‚ÙŠÙ… ÙÙŠ Ø§Ù„Ù…ØµÙÙˆÙØ© Ø§Ù„Ù…Ø­Ù„ÙŠØ©
Â  Â  Â  Â  Â  Â  classItem[criteria] = newValue;
Â  Â  Â  Â  Â  Â  classItem.totalPoints = classItem.quiet + classItem.speed + classItem.volume + classItem.cleanliness;
Â  Â  Â  Â  Â  Â  classItem.dailyPoints = classItem.totalPoints;Â 

Â  Â  Â  Â  Â  Â  renderClasses();Â 
Â  Â  Â  Â  Â  Â  updateStarSummaries();Â 

Â  Â  Â  Â  Â  Â  syncToSheet('updatePoints', { className: classItem.name, criteria: criteria, newValue: newValue });
Â  Â  Â  Â  Â  Â  setTimeout(loadDataFromSheet, 1000);Â 
Â  Â  Â  Â  }

Â  Â  Â  Â  function updateAttendanceWithSave(teacherId, status) {
Â  Â  Â  Â  Â  Â  const teacher = teachers.find(t => t.id === teacherId);
Â  Â  Â  Â  Â  Â  if (!teacher) return;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  const timestamp = new Date().toLocaleString('en-US', { hour12: true });Â 
Â  Â  Â  Â  Â  Â  teacher.status = status;
Â  Â  Â  Â  Â  Â  teacher.timestamp = timestamp;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  renderTeachers();Â 
Â  Â  Â  Â  Â  Â  updateStats();
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  syncToSheet('updateAttendance', {Â 
Â  Â  Â  Â  Â  Â  Â  Â  id: teacherId,Â 
Â  Â  Â  Â  Â  Â  Â  Â  status: status,Â 
Â  Â  Â  Â  Â  Â  Â  Â  notes: teacher.notes,
Â  Â  Â  Â  Â  Â  Â  Â  timestamp: timestampÂ 
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  setTimeout(loadDataFromSheet, 1000);Â 
Â  Â  Â  Â  }

Â  Â  Â  Â  function resetTeacher(teacherId) {
Â  Â  Â  Â  Â  Â  const teacher = teachers.find(t => t.id === teacherId);
Â  Â  Â  Â  Â  Â  if (teacher && confirm(`Ù‡Ù„ ØªØ±ÙŠØ¯ Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø­Ø¶ÙˆØ± ${teacher.name}ØŸ`)) {
Â  Â  Â  Â  Â  Â  Â  Â  teacher.status = 'not-recorded';
Â  Â  Â  Â  Â  Â  Â  Â  teacher.timestamp = null;Â 
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  syncToSheet('updateAttendance', {Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  id: teacherId,Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  status: '',Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  notes: teacher.notes,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  timestamp: nullÂ 
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  renderTeachers();
Â  Â  Â  Â  Â  Â  Â  Â  updateStats();
Â  Â  Â  Â  Â  Â  Â  Â  setTimeout(loadDataFromSheet, 1000);
Â  Â  Â  Â  Â  Â  Â  Â  alert(`ØªÙ… Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø­Ø¶ÙˆØ± ${teacher.name}`);
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  async function resetAllAttendance() {
Â  Â  Â  Â  Â  Â  if (confirm('âš ï¸ Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ø±Ø´ÙØ© Ø³Ø¬Ù„ Ø­Ø¶ÙˆØ± Ø§Ù„ÙŠÙˆÙ… ÙˆØ¨Ø¯Ø¡ ÙŠÙˆÙ… Ø¬Ø¯ÙŠØ¯ØŸ\n\nØ³ÙŠØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨ Ø£Ø±Ø´ÙØ© Ø§Ù„Ø­Ø¶ÙˆØ± ÙˆÙ…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ø§Ù„Ø§Øª ÙÙŠ Ø§Ù„Ø´ÙŠØª.')) {
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  const response = await syncToSheet('archiveAndReset', { id: 0 });Â 
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  if (response.status === 'success') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setTimeout(loadDataFromSheet, 2000);Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  alert('âœ… ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨ Ø£Ø±Ø´ÙØ© Ø­Ø¶ÙˆØ± Ø§Ù„ÙŠÙˆÙ… Ø¨Ù†Ø¬Ø§Ø­. Ø³ÙŠØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø®Ù„Ø§Ù„ Ø«ÙˆØ§Ù†Ù.');
Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  alert(`âŒ ÙØ´Ù„ ÙÙŠ Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨ Ø§Ù„Ø£Ø±Ø´ÙØ©: ${response.message || 'Ø®Ø·Ø£ ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ.'}\nØªØ£ÙƒØ¯ Ù…Ù† Ø¥Ø¹Ø¯Ø§Ø¯ Apps Script Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­.`);
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  // â­ï¸ Ø¯Ø§Ù„Ø© ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù†Ø¬ÙˆÙ… Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠØ© (Ù…Ø­Ø¯Ø«Ø© Ø¨Ø§Ù„ÙƒØ§Ù…Ù„)
Â  Â  Â  Â  function updateStarSummaries() {
Â  Â  Â  Â  Â  Â  // Ù†Ø¬Ù… Ø§Ù„ÙŠÙˆÙ…: Ø£ÙˆÙ„ Ù…Ø¹Ù„Ù…Ø© ØªØ³Ø¬Ù„ Ø­Ø¶ÙˆØ±Ù‡Ø§
Â  Â  Â  Â  Â  Â  const firstPresentTeacher = teachers
Â  Â  Â  Â  Â  Â  Â  Â  .filter(t => t.status === 'present' && t.timestamp)
Â  Â  Â  Â  Â  Â  Â  Â  .sort((a, b) => new Date(a.timestamp) - new Date(b.timestamp))[0];

Â  Â  Â  Â  Â  Â  document.getElementById('starOfDay').textContent = firstPresentTeacher
Â  Â  Â  Â  Â  Â  Â  Â  ? `${firstPresentTeacher.name} (${firstPresentTeacher.class})`
Â  Â  Â  Â  Â  Â  Â  Â  : 'Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø§Ø®ØªÙŠØ§Ø± Ø¨Ø¹Ø¯';

Â  Â  Â  Â  Â  Â  // ğŸ† Ù†Ø¬Ù… Ø§Ù„Ø´Ù‡Ø± (Ù…Ø¹Ù„Ù…Ø©): Ø£Ø¹Ù„Ù‰ Ù†Ù‚Ø§Ø· Ø´Ù‡Ø±ÙŠØ© (ØªÙ„Ù‚Ø§Ø¦ÙŠ)
Â  Â  Â  Â  Â  Â  const topMonthlyTeacher = teachers.reduce((max, t) => (t.monthlyPoints > (max.monthlyPoints || 0) ? t : max), { monthlyPoints: -1 });
Â  Â  Â  Â  Â  Â  const starOfMonthName = (topMonthlyTeacher.monthlyPoints > 0) ? `${topMonthlyTeacher.name} (${topMonthlyTeacher.class})` : 'Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø§Ø®ØªÙŠØ§Ø± Ø¨Ø¹Ø¯';
Â  Â  Â  Â  Â  Â  document.getElementById('starOfMonth').textContent = starOfMonthName;
Â  Â  Â  Â  Â  Â  // Ù…Ù„Ø§Ø­Ø¸Ø©: Ù„Ù† Ù†Ø­Ø¯Ø« Ø§Ù„Ù€ Select Ù‡Ù†Ø§ Ù„Ø£Ù†Ù†Ø§ Ù‚Ù…Ù†Ø§ Ø¨ØªØ¹Ø·ÙŠÙ„Ù‡ ÙÙŠ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª

Â  Â  Â  Â  Â  Â  // â­ Ù†Ø¬Ù… Ø§Ù„Ø·Ø§Ø¨ÙˆØ± (ÙŠÙˆÙ…ÙŠ): Ø§Ù„ØµÙ Ø§Ù„Ø£Ø¹Ù„Ù‰ Ù†Ù‚Ø§Ø· ÙŠÙˆÙ…ÙŠØ©
Â  Â  Â  Â  Â  Â  const topDailyClass = classes.reduce((max, c) => (c.dailyPoints > (max.dailyPoints || 0) ? c : max), { dailyPoints: -1 });
Â  Â  Â  Â  Â  Â  document.getElementById('queueStar').textContent = (topDailyClass.dailyPoints > 0) ? topDailyClass.name : 'Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø§Ø®ØªÙŠØ§Ø± Ø¨Ø¹Ø¯';
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // ğŸ‘‘ Ù†Ø¬Ù… Ø§Ù„Ø·Ø§Ø¨ÙˆØ± Ù„Ù„Ø´Ù‡Ø± (Ø§Ù„ØµÙ): Ø£Ø¹Ù„Ù‰ Ù†Ù‚Ø§Ø· Ø´Ù‡Ø±ÙŠØ© (ØªÙ„Ù‚Ø§Ø¦ÙŠ)
Â  Â  Â  Â  Â  Â  const topMonthlyClass = classes.reduce((max, c) => (c.monthlyPoints > (max.monthlyPoints || 0) ? c : max), { monthlyPoints: -1 });
Â  Â  Â  Â  Â  Â  const queueStarMonthName = (topMonthlyClass.monthlyPoints > 0) ? topMonthlyClass.name : 'Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø§Ø®ØªÙŠØ§Ø± Ø¨Ø¹Ø¯';
Â  Â  Â  Â  Â  Â  document.getElementById('queueStarMonth').textContent = queueStarMonthName;
Â  Â  Â  Â  Â  Â  // Ù…Ù„Ø§Ø­Ø¸Ø©: Ù„Ù† Ù†Ø­Ø¯Ø« Ø§Ù„Ù€ Select Ù‡Ù†Ø§ Ù„Ø£Ù†Ù†Ø§ Ù‚Ù…Ù†Ø§ Ø¨ØªØ¹Ø·ÙŠÙ„Ù‡ ÙÙŠ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª

Â  Â  Â  Â  Â  Â  // Ø¨Ù…Ø§ Ø£Ù† Ù†Ø¬ÙˆÙ… Ø§Ù„Ø´Ù‡Ø± Ø£ØµØ¨Ø­Øª ØªÙ„Ù‚Ø§Ø¦ÙŠØ©ØŒ Ù†Ø±Ø³Ù„ ØªØ­Ø¯ÙŠØ«Ø§Ù‹ Ø¥Ù„Ù‰ Ø§Ù„Ø´ÙŠØª Ù„Ø¶Ù…Ø§Ù† Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
Â  Â  Â  Â  Â  Â  syncToSheet('updateMonthlyStars', { starOfMonth: starOfMonthName, queueStarMonth: queueStarMonthName });
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  // =======================================================
Â  Â  Â  Â  // 4. Ø§Ù„Ø¯ÙˆØ§Ù„ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© (Ø§Ù„Ø¹Ø±Ø¶ ÙˆØ§Ù„ØªØ­Ù‚Ù‚)
Â  Â  Â  Â  // =======================================================
Â  Â  Â  Â Â 
Â  Â  Â  Â  function updateStats() {
Â  Â  Â  Â  Â  Â  const present = teachers.filter(t => t.status === 'present').length;
Â  Â  Â  Â  Â  Â  const absent = teachers.filter(t => t.status === 'absent').length;
Â  Â  Â  Â  Â  Â  const late = teachers.filter(t => t.status === 'late').length;
Â  Â  Â  Â  Â  Â  const excused = teachers.filter(t => t.status === 'excused').length;
Â  Â  Â  Â  Â  Â  const notRecorded = teachers.filter(t => t.status === 'not-recorded').length;
Â  Â  Â  Â  Â  Â  document.getElementById('presentCount').textContent = present;
Â  Â  Â  Â  Â  Â  document.getElementById('absentCount').textContent = absent + late + excused;Â 
Â  Â  Â  Â  Â  Â  document.getElementById('notRecordedCount').textContent = notRecorded;
Â  Â  Â  Â  Â  Â  document.getElementById('totalCount').textContent = teachers.length;
Â  Â  Â  Â  Â  Â  const recordedTeachers = teachers.filter(t => t.status !== 'not-recorded' && t.timestamp);
Â  Â  Â  Â  Â  Â  const log = document.getElementById('attendanceLog');
Â  Â  Â  Â  Â  Â  log.innerHTML = recordedTeachers.length === 0 ? 'Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØ³Ø¬ÙŠÙ„Ø§Øª Ø­Ø¶ÙˆØ± Ø§Ù„ÙŠÙˆÙ…' : recordedTeachers.map(teacher => `<div style="margin: 0.5rem 0; padding: 0.5rem; background: rgba(255,255,255,0.1); border-radius: 8px;">${teacher.name} - ${getStatusText(teacher.status)} - ${teacher.timestamp.split(',')[1].trim()}</div>`).join('');
Â  Â  Â  Â  }
Â  Â  Â  Â  function updateDateTime() {
Â  Â  Â  Â  Â  Â  const now = new Date();
Â  Â  Â  Â  Â  Â  const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric', hour: '2-digit', minute: '2-digit' };
Â  Â  Â  Â  Â  Â  document.getElementById('currentDateTime').textContent = now.toLocaleDateString('ar-SA', options);
Â  Â  Â  Â  }

Â  Â  Â  Â  function renderTeachers() {Â 
Â  Â  Â  Â  Â  Â  const grid = document.getElementById('teachersGrid');
Â  Â  Â  Â  Â  Â  if (!grid) return;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  grid.innerHTML = teachers.map(teacher => {
Â  Â  Â  Â  Â  Â  Â  Â  const statusClass = `status-${teacher.status}`;

Â  Â  Â  Â  Â  Â  Â  Â  return `
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="teacher-card glass-morphism ${statusClass}" data-id="${teacher.id}">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ${teacher.notes ? '<div class="notes-indicator">Ù…Ù„Ø§Ø­Ø¸Ø§Øª</div>' : ''}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="teacher-avatar">${teacher.name.charAt(0)}</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="teacher-name">${teacher.name}</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="teacher-class">${teacher.class}</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="attendance-status">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="status-btn present ${teacher.status === 'present' ? 'active' : ''}"Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onclick="updateAttendanceWithSave(${teacher.id}, 'present')">Ø­Ø§Ø¶Ø±Ø©</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="status-btn absent ${teacher.status === 'absent' ? 'active' : ''}"Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onclick="updateAttendanceWithSave(${teacher.id}, 'absent')">ØºØ§Ø¦Ø¨Ø©</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="status-btn late ${teacher.status === 'late' ? 'active' : ''}"Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onclick="updateAttendanceWithSave(${teacher.id}, 'late')">Ù…ØªØ£Ø®Ø±Ø©</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="status-btn excused ${teacher.status === 'excused' ? 'active' : ''}"Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onclick="updateAttendanceWithSave(${teacher.id}, 'excused')">Ø¨Ø¹Ø°Ø±</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div style="text-align: center; color: white; font-size: 0.9rem; margin-bottom: 0.5rem;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <strong>Ø§Ù„Ø­Ø§Ù„Ø©:</strong> ${getStatusText(teacher.status)}Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ${teacher.timestamp ? `(${teacher.timestamp.split(',')[1].trim()})` : ''}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="teacher-actions">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="action-btn" onclick="openTeacherModal(${teacher.id})">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  âœï¸ ØªØ¹Ø¯ÙŠÙ„
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="action-btn" onclick="resetTeacher(${teacher.id})">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ğŸ”„ Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ†
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="action-btn" onclick="openCameraModal(${teacher.id}, '${teacher.name}', '${teacher.class}')">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ğŸ“¸ ØµÙˆØ±Ø©
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  `;
Â  Â  Â  Â  Â  Â  }).join('');
Â  Â  Â  Â  Â  Â  document.getElementById('teachersGrid').innerHTML = teachers.length === 0 ? '<div class="glass-morphism loading" style="padding: 3rem; text-align: center; color: white; grid-column: 1 / -1;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø¹Ù„Ù…Ø§Øª Ù„Ù„ØªØ­Ù…ÙŠÙ„.</div>' : grid.innerHTML;
Â  Â  Â  Â  }

Â  Â  Â  Â  function renderClasses() {Â 
Â  Â  Â  Â  Â  Â  const grid = document.getElementById('classesGrid');
Â  Â  Â  Â  Â  Â  if (!grid) return;

Â  Â  Â  Â  Â  Â  const topDailyClass = classes.reduce((max, current) =>Â 
Â  Â  Â  Â  Â  Â  Â  Â  current.dailyPoints > max.dailyPoints ? current : max, { dailyPoints: -1 }
Â  Â  Â  Â  Â  Â  );

Â  Â  Â  Â  Â  Â  grid.innerHTML = classes.map((classItem, index) => {
Â  Â  Â  Â  Â  Â  Â  Â  const winnerClass = (classItem.name === topDailyClass.name && topDailyClass.dailyPoints > 0) ? 'queue-star-winner' : '';

Â  Â  Â  Â  Â  Â  Â  Â  return `
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="class-card glass-morphism ${winnerClass}" onclick="openClassModal(${index})" style="cursor: pointer;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="class-name">${classItem.name}</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="class-points">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ${classItem.dailyPoints}Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span style="font-size: 1rem; opacity: 0.8;">(Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ÙŠÙˆÙ…: ${classItem.totalPoints})</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div style="text-align: center; color: white; margin-bottom: 1.5rem;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Ù†Ù‚Ø§Ø· Ø§Ù„Ø´Ù‡Ø±: <strong>${classItem.monthlyPoints}</strong>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="criteria-controls">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ${renderCriteriaRow(index, 'quiet', 'Ø§Ù„Ù‡Ø¯ÙˆØ¡')}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ${renderCriteriaRow(index, 'speed', 'Ø§Ù„Ø³Ø±Ø¹Ø©')}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ${renderCriteriaRow(index, 'volume', 'Ø§Ù„ØµÙˆØª')}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ${renderCriteriaRow(index, 'cleanliness', 'Ø§Ù„Ù†Ø¸Ø§ÙØ©')}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div style="text-align: center; margin-top: 1.5rem;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <button class="nav-button" style="background: #2196f3;" onclick="event.stopPropagation(); openClassModal(${index});">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  âœï¸ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„ØµÙ
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  `;
Â  Â  Â  Â  Â  Â  }).join('');
Â  Â  Â  Â  Â  Â  document.getElementById('classesGrid').innerHTML = classes.length === 0 ? '<div class="glass-morphism loading" style="padding: 3rem; text-align: center; color: white; grid-column: 1 / -1;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª ØµÙÙˆÙ Ù„Ù„ØªØ­Ù…ÙŠÙ„.</div>' : grid.innerHTML;
Â  Â  Â  Â  }

Â  Â  Â  Â  function renderCriteriaRow(classIndex, criteria, name) {
Â  Â  Â  Â  Â  Â  const classItem = classes[classIndex];
Â  Â  Â  Â  Â  Â  const points = classItem[criteria] || 0;
Â  Â  Â  Â  Â  Â  return `
Â  Â  Â  Â  Â  Â  Â  Â  <div class="criteria-row">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="criteria-name">${name}</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="criteria-controls-btn">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="point-btn minus" onclick="event.stopPropagation(); updatePointsWithSave(${classIndex}, '${criteria}', -1)">-</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="criteria-points">${points}</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="point-btn plus" onclick="event.stopPropagation(); updatePointsWithSave(${classIndex}, '${criteria}', 1)">+</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  `;
Â  Â  Â  Â  }
Â  Â  Â  Â  function updateStarSelects() {Â 
Â  Â  Â  Â  Â  Â  Â const teacherSelects = ['starOfDaySelect', 'starOfMonthSelect'];
Â  Â  Â  Â  Â  Â  Â const classSelects = ['queueStarSelect', 'queueStarMonthSelect'];

Â  Â  Â  Â  Â  Â  Â teacherSelects.forEach(selectId => {
Â  Â  Â  Â  Â  Â  Â  Â  Â const select = document.getElementById(selectId);
Â  Â  Â  Â  Â  Â  Â  Â  Â if (select) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â select.innerHTML = '<option value="">Ø§Ø®ØªØ± Ø§Ù„Ù…Ø¹Ù„Ù…Ø©</option>' +
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â teachers.map(t => `<option value="${t.name} (${t.class})">${t.name} (${t.class})</option>`).join('');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â if (selectId === 'starOfMonthSelect' && document.getElementById('starOfMonth').textContent !== 'Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø§Ø®ØªÙŠØ§Ø± Ø¨Ø¹Ø¯') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â select.value = document.getElementById('starOfMonth').textContent;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â }
Â  Â  Â  Â  Â  Â  Â  Â  Â }
Â  Â  Â  Â  Â  Â  Â });

Â  Â  Â  Â  Â  Â  Â classSelects.forEach(selectId => {
Â  Â  Â  Â  Â  Â  Â  Â  Â const select = document.getElementById(selectId);
Â  Â  Â  Â  Â  Â  Â  Â  Â if (select) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â select.innerHTML = '<option value="">Ø§Ø®ØªØ± Ø§Ù„ØµÙ</option>' +
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â classes.map(c => `<option value="${c.name}">${c.name}</option>`).join('');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â if (selectId === 'queueStarMonthSelect' && document.getElementById('queueStarMonth').textContent !== 'Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø§Ø®ØªÙŠØ§Ø± Ø¨Ø¹Ø¯') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â select.value = document.getElementById('queueStarMonth').textContent;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â }
Â  Â  Â  Â  Â  Â  Â  Â  Â }
Â  Â  Â  Â  Â  Â  Â });
Â  Â  Â  Â  }
Â  Â  Â  Â  function updateDataManagement() {Â 
Â  Â  Â  Â  Â  Â  const infoDiv = document.getElementById('dataManagementInfo');
Â  Â  Â  Â  Â  Â  if (infoDiv) {
Â  Â  Â  Â  Â  Â  Â  Â  infoDiv.innerHTML = `
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø¹Ù„Ù…Ø§Øª Ø§Ù„Ù…Ø­Ù…Ù„Ø©: <strong>${teachers.length}</strong></p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>Ø¹Ø¯Ø¯ Ø§Ù„ØµÙÙˆÙ Ø§Ù„Ù…Ø­Ù…Ù„Ø©: <strong>${classes.length}</strong></p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ« Ù…Ù† Ø§Ù„Ø´ÙŠØª: <strong>${new Date().toLocaleTimeString()}</strong></p>
Â  Â  Â  Â  Â  Â  Â  Â  `;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  Â  Â  function renderTeachersManagementList() {
Â  Â  Â  Â  Â  Â  const list = document.getElementById('teachersManagementList');
Â  Â  Â  Â  Â  Â  if (!list) return;

Â  Â  Â  Â  Â  Â  list.innerHTML = `
Â  Â  Â  Â  Â  Â  Â  Â  <div style="font-weight: bold; display: flex; justify-content: space-between; padding: 0.5rem; border-bottom: 2px solid rgba(255,255,255,0.3); color: white;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span>Ø§Ù„Ø§Ø³Ù… (ID)</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span>Ø§Ù„ØµÙ</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span>Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</span>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  ${teachers.map(t => `
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem; border-bottom: 1px dashed rgba(255,255,255,0.1); color: white;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span>${t.name} (ID: ${t.id})</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span>${t.class}</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="action-btn" onclick="openTeacherModal(${t.id})" style="background: #2196f3;">âœï¸</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="action-btn" onclick="deleteTeacher(${t.id})" style="background: #f44336;">ğŸ—‘ï¸</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  `).join('')}
Â  Â  Â  Â  Â  Â  `;
Â  Â  Â  Â  }
Â  Â  Â  Â  function checkSystemPassword() {
Â  Â  Â  Â  Â  Â  const input = document.getElementById('systemPassword');
Â  Â  Â  Â  Â  Â  if (input.value === systemPassword) {
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('passwordPrompt').style.display = 'none';
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('systemContent').style.display = 'block';
Â  Â  Â  Â  Â  Â  Â  Â  renderTeachersManagementList();
Â  Â  Â  Â  Â  Â  Â  Â  updateStarSelects();
Â  Â  Â  Â  Â  Â  Â  Â  updateDataManagement();
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('motivationalText').value = motivationalQuote;Â 
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  alert('ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©');
Â  Â  Â  Â  Â  Â  Â  Â  input.value = '';
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  Â  Â  function updateSystemPassword() {
Â  Â  Â  Â  Â  Â  const newPass = document.getElementById('newSystemPassword').value;
Â  Â  Â  Â  Â  Â  if (newPass.length > 0) {
Â  Â  Â  Â  Â  Â  Â  Â  systemPassword = newPass;
Â  Â  Â  Â  Â  Â  Â  Â  alert('âœ… ØªÙ… ØªØ­Ø¯ÙŠØ« ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ø§Ù„Ù†Ø¸Ø§Ù… Ø¨Ù†Ø¬Ø§Ø­!');
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('newSystemPassword').value = '';
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  alert('âŒ ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ø¬Ø¯ÙŠØ¯Ø©.');
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  Â  Â  function updateMotivationalText() {
Â  Â  Â  Â  Â  Â  Â const newText = document.getElementById('motivationalText').value;
Â  Â  Â  Â  Â  Â  if (newText.length > 0) {
Â  Â  Â  Â  Â  Â  Â  Â  motivationalQuote = newText;
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('motivationalSubtitle').textContent = newText;
Â  Â  Â  Â  Â  Â  Â  Â  alert('âœ… ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø¨Ø§Ø±Ø© Ø§Ù„ØªØ­ÙÙŠØ²ÙŠØ© Ø¨Ù†Ø¬Ø§Ø­!');
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  alert('âŒ ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø¹Ø¨Ø§Ø±Ø© ØªØ­ÙÙŠØ²ÙŠØ©.');
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  Â  Â  function showAddTeacherForm() {
Â  Â  Â  Â  Â  Â  document.getElementById('addTeacherForm').classList.add('active');
Â  Â  Â  Â  }
Â  Â  Â  Â  function hideAddTeacherForm() {
Â  Â  Â  Â  Â  Â  document.getElementById('addTeacherForm').classList.remove('active');
Â  Â  Â  Â  }
Â  Â  Â  Â  function addNewTeacher() {
Â  Â  Â  Â  Â  Â  const name = document.getElementById('newTeacherName').value.trim();
Â  Â  Â  Â  Â  Â  const className = document.getElementById('newTeacherClass').value.trim();

Â  Â  Â  Â  Â  Â  if (!name || !className) {
Â  Â  Â  Â  Â  Â  Â  Â  alert('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø¹Ù„Ù…Ø© ÙˆØ§Ù„ØµÙ.');
Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  alert('ğŸš« ØªÙ†Ø¨ÙŠÙ‡: ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø¹Ù„Ù…Ø© Ù…Ø­Ù„ÙŠØ§Ù‹ ÙÙ‚Ø·. Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ ID ØµØ­ÙŠØ­ ÙˆÙ…Ø²Ø§Ù…Ù†Ø© Ø¯Ø§Ø¦Ù…Ø©ØŒ ÙŠØ±Ø¬Ù‰ Ø¥Ø¶Ø§ÙØªÙ‡Ø§ ÙÙŠ Google Sheet.');

Â  Â  Â  Â  Â  Â  const newId = Math.max(...teachers.map(t => t.id), 0) + 1;
Â  Â  Â  Â  Â  Â  const newTeacher = {
Â  Â  Â  Â  Â  Â  Â  Â  id: newId,
Â  Â  Â  Â  Â  Â  Â  Â  name: name,
Â  Â  Â  Â  Â  Â  Â  Â  class: className,
Â  Â  Â  Â  Â  Â  Â  Â  status: 'not-recorded',
Â  Â  Â  Â  Â  Â  Â  Â  timestamp: null,
Â  Â  Â  Â  Â  Â  Â  Â  notes: '',
Â  Â  Â  Â  Â  Â  Â  Â  monthlyPoints: 0 // Ù†Ù‚Ø·Ø© Ø´Ù‡Ø±ÙŠØ© Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
Â  Â  Â  Â  Â  Â  };
Â  Â  Â  Â  Â  Â  teachers.push(newTeacher);
Â  Â  Â  Â  Â  Â  renderTeachers();
Â  Â  Â  Â  Â  Â  renderTeachersManagementList();
Â  Â  Â  Â  Â  Â  updateStats();
Â  Â  Â  Â  Â  Â  updateStarSelects();
Â  Â  Â  Â  Â  Â  updateDataManagement();
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  syncToSheet('addTeacher', newTeacher);

Â  Â  Â  Â  Â  Â  document.getElementById('newTeacherName').value = '';
Â  Â  Â  Â  Â  Â  document.getElementById('newTeacherClass').value = '';
Â  Â  Â  Â  Â  Â  hideAddTeacherForm();
Â  Â  Â  Â  }
Â  Â  Â  Â  function deleteTeacher(teacherId) {Â 
Â  Â  Â  Â  Â  Â  if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø¹Ù„Ù…Ø©ØŸ Ø³ÙŠØªÙ… Ø­Ø°ÙÙ‡Ø§ Ù…Ø­Ù„ÙŠØ§Ù‹ ÙÙ‚Ø·. Ù„Ù„Ø­Ø°Ù Ø§Ù„Ø¯Ø§Ø¦Ù…ØŒ ÙŠØ¬Ø¨ Ø­Ø°ÙÙ‡Ø§ Ù…Ù† Google Sheet.')) {
Â  Â  Â  Â  Â  Â  Â  Â  teachers = teachers.filter(t => t.id !== teacherId);
Â  Â  Â  Â  Â  Â  Â  Â  renderTeachers();
Â  Â  Â  Â  Â  Â  Â  Â  renderTeachersManagementList();
Â  Â  Â  Â  Â  Â  Â  Â  updateStats();
Â  Â  Â  Â  Â  Â  Â  Â  updateStarSummaries(); // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†Ø¬ÙˆÙ… Ø¨Ø¹Ø¯ Ø§Ù„Ø­Ø°Ù
Â  Â  Â  Â  Â  Â  Â  Â  updateStarSelects();
Â  Â  Â  Â  Â  Â  Â  Â  updateDataManagement();
Â  Â  Â  Â  Â  Â  Â  Â  syncToSheet('deleteTeacher', { id: teacherId });
Â  Â  Â  Â  Â  Â  Â  Â  alert('âœ… ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…Ø¹Ù„Ù…Ø© Ù…Ø­Ù„ÙŠØ§Ù‹. ÙŠØ±Ø¬Ù‰ Ø­Ø°ÙÙ‡Ø§ Ù…Ù† Google Sheet Ø£ÙŠØ¶Ø§Ù‹.');
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  Â  Â  function saveTeacherChanges() {
Â  Â  Â  Â  Â  Â  const teacher = teachers.find(t => t.id === currentEditingTeacherId);
Â  Â  Â  Â  Â  Â  if (!teacher) return;

Â  Â  Â  Â  Â  Â  teacher.name = document.getElementById('editTeacherName').value.trim();
Â  Â  Â  Â  Â  Â  teacher.class = document.getElementById('editTeacherClass').value.trim();
Â  Â  Â  Â  Â  Â  teacher.notes = document.getElementById('editTeacherNotes').value.trim();

Â  Â  Â  Â  Â  Â  renderTeachers();
Â  Â  Â  Â  Â  Â  renderTeachersManagementList();
Â  Â  Â  Â  Â  Â  updateStarSelects();
Â  Â  Â  Â  Â  Â  closeTeacherModal();

Â  Â  Â  Â  Â  Â  syncToSheet('updateTeacher', {Â 
Â  Â  Â  Â  Â  Â  Â  Â  id: teacher.id,Â 
Â  Â  Â  Â  Â  Â  Â  Â  name: teacher.name,Â 
Â  Â  Â  Â  Â  Â  Â  Â  class: teacher.class,Â 
Â  Â  Â  Â  Â  Â  Â  Â  notes: teacher.notesÂ 
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  alert('âœ… ØªÙ… Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ù…Ø¹ Ø§Ù„Ø´ÙŠØª Ù„Ù„ØªØ£ÙƒØ¯ Ù…Ù† ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø§Ø³Ù… ÙˆØ§Ù„ØµÙ Ø¨Ø´ÙƒÙ„ Ø¯Ø§Ø¦Ù….');
Â  Â  Â  Â  }
Â  Â  Â  Â  function saveClassChanges() {
Â  Â  Â  Â  Â  Â  const classItem = classes[currentEditingClassIndex];
Â  Â  Â  Â  Â  Â  if (!classItem) return;

Â  Â  Â  Â  Â  Â  classItem.name = document.getElementById('editClassName').value.trim();
Â  Â  Â  Â  Â  Â  classItem.notes = document.getElementById('editClassNotes').value.trim();

Â  Â  Â  Â  Â  Â  renderClasses();
Â  Â  Â  Â  Â  Â  closeClassModal();

Â  Â  Â  Â  Â  Â  syncToSheet('updateClass', {Â 
Â  Â  Â  Â  Â  Â  Â  Â  className: classItem.name,Â 
Â  Â  Â  Â  Â  Â  Â  Â  notes: classItem.notesÂ 
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  alert('âœ… ØªÙ… Ø­ÙØ¸ ØªØºÙŠÙŠØ±Ø§Øª Ø§Ù„ØµÙ.');
Â  Â  Â  Â  }
Â  Â  Â  Â  function addAllDailyToMonthly() {
Â  Â  Â  Â  Â  Â  Â if (!confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø¥Ø¶Ø§ÙØ© Ù†Ù‚Ø§Ø· Ø§Ù„ÙŠÙˆÙ… Ø¥Ù„Ù‰ Ù†Ù‚Ø§Ø· Ø§Ù„Ø´Ù‡Ø± Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„ØµÙÙˆÙØŸ')) return;

Â  Â  Â  Â  Â  Â  classes.forEach(c => {
Â  Â  Â  Â  Â  Â  Â  Â  c.monthlyPoints += c.dailyPoints;
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  renderClasses();
Â  Â  Â  Â  Â  Â  updateStarSummaries();

Â  Â  Â  Â  Â  Â  syncToSheet('addAllDailyToMonthly', { id: 0 });
Â  Â  Â  Â  Â  Â  setTimeout(loadDataFromSheet, 2000);
Â  Â  Â  Â  Â  Â  alert('âœ… ØªÙ… Ø¥Ø¶Ø§ÙØ© Ù†Ù‚Ø§Ø· Ø§Ù„ÙŠÙˆÙ… Ø¥Ù„Ù‰ Ø§Ù„Ø´Ù‡Ø±. Ø³ÙŠØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„ØµÙØ­Ø© Ù‚Ø±ÙŠØ¨Ø§Ù‹.');
Â  Â  Â  Â  }

Â  Â  Â  Â  function resetAllDailyPoints() {
Â  Â  Â  Â  Â  Â  if (!confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† ØªØµÙÙŠØ± Ø¬Ù…ÙŠØ¹ Ù†Ù‚Ø§Ø· Ø§Ù„ÙŠÙˆÙ… (Ø§Ù„Ù‡Ø¯ÙˆØ¡ØŒ Ø§Ù„Ø³Ø±Ø¹Ø©ØŒ Ø§Ù„ØµÙˆØªØŒ Ø§Ù„Ù†Ø¸Ø§ÙØ©ØŒ Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ) Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„ØµÙÙˆÙØŸ')) return;

Â  Â  Â  Â  Â  Â  classes.forEach(c => {
Â  Â  Â  Â  Â  Â  Â  Â  c.dailyPoints = 0;
Â  Â  Â  Â  Â  Â  Â  Â  c.totalPoints = 0;
Â  Â  Â  Â  Â  Â  Â  Â  c.quiet = 0;
Â  Â  Â  Â  Â  Â  Â  Â  c.speed = 0;
Â  Â  Â  Â  Â  Â  Â  Â  c.volume = 0;
Â  Â  Â  Â  Â  Â  Â  Â  c.cleanliness = 0;
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  renderClasses();
Â  Â  Â  Â  Â  Â  updateStarSummaries();

Â  Â  Â  Â  Â  Â  syncToSheet('resetAllDailyPoints', { id: 0 });
Â  Â  Â  Â  Â  Â  setTimeout(loadDataFromSheet, 2000);
Â  Â  Â  Â  Â  Â  alert('âœ… ØªÙ… ØªØµÙÙŠØ± Ø¬Ù…ÙŠØ¹ Ù†Ù‚Ø§Ø· Ø§Ù„ÙŠÙˆÙ…. Ø³ÙŠØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„ØµÙØ­Ø© Ù‚Ø±ÙŠØ¨Ø§Ù‹.');
Â  Â  Â  Â  }

Â  Â  Â  Â  function resetAllMonthlyPoints() {
Â  Â  Â  Â  Â  Â  if (!confirm('âš ï¸ Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† ØªØµÙÙŠØ± Ø¬Ù…ÙŠØ¹ Ù†Ù‚Ø§Ø· Ø§Ù„Ø´Ù‡Ø± Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„ØµÙÙˆÙØŸ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù† Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡.')) return;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  classes.forEach(c => {
Â  Â  Â  Â  Â  Â  Â  Â  c.monthlyPoints = 0;
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  renderClasses();
Â  Â  Â  Â  Â  Â  updateStarSummaries();
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  syncToSheet('resetAllMonthlyPoints', { id: 0 });
Â  Â  Â  Â  Â  Â  setTimeout(loadDataFromSheet, 2000);
Â  Â  Â  Â  Â  Â  alert('âœ… ØªÙ… ØªØµÙÙŠØ± Ø¬Ù…ÙŠØ¹ Ù†Ù‚Ø§Ø· Ø§Ù„Ø´Ù‡Ø±. Ø³ÙŠØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„ØµÙØ­Ø© Ù‚Ø±ÙŠØ¨Ø§Ù‹.');
Â  Â  Â  Â  }

Â  Â  Â  Â  function resetAllPoints() {
Â  Â  Â  Â  Â  Â  if (!confirm('âš ï¸ Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† ØªØµÙÙŠØ± Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù†Ù‚Ø§Ø· (Ø§Ù„ÙŠÙˆÙ… ÙˆØ§Ù„Ø´Ù‡Ø±) Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„ØµÙÙˆÙØŸ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù† Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡.')) return;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  classes.forEach(c => {
Â  Â  Â  Â  Â  Â  Â  Â  c.dailyPoints = 0;
Â  Â  Â  Â  Â  Â  Â  Â  c.totalPoints = 0;
Â  Â  Â  Â  Â  Â  Â  Â  c.monthlyPoints = 0;
Â  Â  Â  Â  Â  Â  Â  Â  c.quiet = 0;
Â  Â  Â  Â  Â  Â  Â  Â  c.speed = 0;
Â  Â  Â  Â  Â  Â  Â  Â  c.volume = 0;
Â  Â  Â  Â  Â  Â  Â  Â  c.cleanliness = 0;
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  renderClasses();
Â  Â  Â  Â  Â  Â  updateStarSummaries();
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  syncToSheet('resetAllPoints', { id: 0 });
Â  Â  Â  Â  Â  Â  setTimeout(loadDataFromSheet, 2000);
Â  Â  Â  Â  Â  Â  alert('âœ… ØªÙ… ØªØµÙÙŠØ± Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù†Ù‚Ø§Ø·. Ø³ÙŠØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„ØµÙØ­Ø© Ù‚Ø±ÙŠØ¨Ø§Ù‹.');
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  function updateDailyStars() {
Â  Â  Â  Â  Â  Â  updateStarSummaries();Â 
Â  Â  Â  Â  Â  Â  alert('âœ… ØªÙ… ØªØ­Ø¯ÙŠØ« Ù…Ù„Ø®Øµ Ø§Ù„Ù†Ø¬ÙˆÙ… Ø§Ù„ÙŠÙˆÙ…ÙŠØ© Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø§Ù„ÙŠØ©.');
Â  Â  Â  Â  }

Â  Â  Â  Â  function updateMonthlyStars() {
            // ğŸš« ØªÙ… ØªØ¹Ø·ÙŠÙ„ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙŠØ¯ÙˆÙŠØ© - Ø§Ù„Ù†Ø¬ÙˆÙ… Ø§Ù„Ø´Ù‡Ø±ÙŠØ© ØªÙØ­Ø³Ø¨ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
            alert('ğŸš« ØªÙ†Ø¨ÙŠÙ‡: ØªÙ… ØªØ¹Ø·ÙŠÙ„ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙŠØ¯ÙˆÙŠØ© Ù„Ù†Ø¬ÙˆÙ… Ø§Ù„Ø´Ù‡Ø±. ÙŠØªÙ… Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù†Ø¬ÙˆÙ… Ø§Ù„Ø¢Ù† ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ù†Ù‚Ø§Ø· Ø§Ù„Ø´Ù‡Ø±ÙŠØ©.');
Â  Â  Â  Â  Â  Â  updateStarSummaries(); 
Â  Â  Â  Â  Â  Â  return false;
Â  Â  Â  Â  }

Â  Â  Â  Â  // ===================================================
Â  Â  Â  Â  // 5. ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ø´Ù‡Ø§Ø¯Ø§Øª ÙˆØ§Ù„Ø­ÙØ¸
Â  Â  Â  Â  // ===================================================

Â  Â  Â  Â  // â­ï¸ Ø¯Ø§Ù„Ø© Ù„Ø­ÙØ¸ Ø§Ù„Ø´Ù‡Ø§Ø¯Ø© ÙƒÙ€ PDFÂ 
Â  Â  Â  Â  async function saveCertificatePDF(containerId, fileName) {
Â  Â  Â  Â  Â  Â  const container = document.getElementById(containerId);
Â  Â  Â  Â  Â  Â  if (!container) {
Â  Â  Â  Â  Â  Â  Â  Â  alert('âŒ Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø¹Ù†ØµØ± Ø§Ù„Ø´Ù‡Ø§Ø¯Ø©.');
Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  // Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† ØªØ­Ù…ÙŠÙ„ Ø£ÙŠ ØµÙˆØ±
Â  Â  Â  Â  Â  Â  const images = container.querySelectorAll('img');
Â  Â  Â  Â  Â  Â  await Promise.all(Array.from(images).map(img => {
Â  Â  Â  Â  Â  Â  Â  Â  if (img.complete) return Promise.resolve();
Â  Â  Â  Â  Â  Â  Â  Â  return new Promise(resolve => { img.onload = img.onerror = resolve; });
Â  Â  Â  Â  Â  Â  }));

Â  Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  Â  Â  // Ø¥Ù†Ø´Ø§Ø¡ canvas
Â  Â  Â  Â  Â  Â  Â  Â  const canvas = await html2canvas(container, {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  scale: 2,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  useCORS: true,Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  scrollY: -window.scrollY,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  logging: true
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  const { jsPDF } = window.jspdf;
Â  Â  Â  Â  Â  Â  Â  Â  const pdf = new jsPDF('p', 'pt', 'a4');
Â  Â  Â  Â  Â  Â  Â  Â  const pdfWidth = pdf.internal.pageSize.getWidth();
Â  Â  Â  Â  Â  Â  Â  Â  const pdfHeight = (canvas.height * pdfWidth) / canvas.width;
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  pdf.addImage(canvas.toDataURL('image/png'), 'PNG', 0, 0, pdfWidth, pdfHeight);
Â  Â  Â  Â  Â  Â  Â  Â  pdf.save(fileName);
Â  Â  Â  Â  Â  Â  Â  Â  alert('âœ… ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø´Ù‡Ø§Ø¯Ø© Ø¨Ù†Ø¬Ø§Ø­');
Â  Â  Â  Â  Â  Â  } catch (err) {
Â  Â  Â  Â  Â  Â  Â  Â  console.error(err);
Â  Â  Â  Â  Â  Â  Â  Â  alert('âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø­ÙØ¸ Ø§Ù„Ø´Ù‡Ø§Ø¯Ø©');
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  // â­ï¸ Ø¯Ø§Ù„Ø© Ù…ÙØ¹Ø¯Ù‘Ù„Ø© Ù„Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø´Ù‡Ø§Ø¯Ø© ÙÙŠ Ø§Ù„Ø°Ø§ÙƒØ±Ø© Ù…Ø¹ Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø© ÙˆØ§Ù„Ø­ÙØ¸ Ø§Ù„ÙÙˆØ±ÙŠ
Â  Â  Â  Â  async function generateCertificatePreview({ name, icon, isClass = false, starType = 'Ø´ÙƒØ± ÙˆØªÙ‚Ø¯ÙŠØ±' }) {
Â  Â  Â  Â  Â  Â  // 1. Ø¥Ø²Ø§Ù„Ø© Ø£ÙŠ Ø´Ù‡Ø§Ø¯Ø© Ù…ÙˆØ¬ÙˆØ¯Ø© Ø³Ø§Ø¨Ù‚Ø© ÙÙŠ Ø§Ù„Ù€ body
Â  Â  Â  Â  Â  Â  const existing = document.getElementById('certificatePreview');
Â  Â  Â  Â  Â  Â  if (existing) existing.remove();

Â  Â  Â  Â  Â  Â  const date = new Date().toLocaleDateString('ar-SA', { year: 'numeric', month: 'long', day: 'numeric' });
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // 2. Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¹Ù†ØµØ± Ø§Ù„Ù…Ø¤Ù‚Øª (Ù„Ù„Ø¹Ø±Ø¶ ÙˆØ§Ù„Ø­ÙØ¸)
Â  Â  Â  Â  Â  Â  const certificateContainer = document.createElement('div');
Â  Â  Â  Â  Â  Â  certificateContainer.id = 'certificatePreview';
Â  Â  Â  Â  Â  Â  certificateContainer.style.width = '800px';
Â  Â  Â  Â  Â  Â  certificateContainer.style.padding = '3rem';
Â  Â  Â  Â  Â  Â  certificateContainer.style.background = 'white';
Â  Â  Â  Â  Â  Â  certificateContainer.style.textAlign = 'center';
Â  Â  Â  Â  Â  Â  certificateContainer.style.border = '5px solid #ff6b9d'; // Ù†Ù…Ø· Ø¬Ù…Ø§Ù„ÙŠ
Â  Â  Â  Â  Â  Â  certificateContainer.style.position = 'absolute'; // ÙˆØ¶Ø¹Ù‡ Ø®Ø§Ø±Ø¬ Ø§Ù„Ø´Ø§Ø´Ø© Ù„Ù„Ø­ÙØ¸
Â  Â  Â  Â  Â  Â  certificateContainer.style.top = '-9999px';
Â  Â  Â  Â  Â  Â  certificateContainer.style.margin = '0';
Â  Â  Â  Â  Â  Â  certificateContainer.style.fontFamily = 'Tajawal, sans-serif';
Â  Â  Â  Â  Â  Â  certificateContainer.style.direction = 'rtl';
Â  Â  Â  Â  Â  Â  certificateContainer.style.color = '#333';
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  const headerLogoHtml = document.querySelector('#siteHeaderLogo')?.outerHTML || '';
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  let certificateText = isClass ? `ØªÙ‚Ø¯ÙŠØ±Ø§Ù‹ Ù„Ø§Ù†Ø¶Ø¨Ø§Ø·Ù‡ ÙˆØ£Ø¯Ø§Ø¦Ù‡ Ø§Ù„Ù…ØªÙ…ÙŠØ² ÙƒÙ†Ø¬Ù… Ø§Ù„Ø·Ø§Ø¨ÙˆØ± Ø§Ù„Ù…Ø¯Ø±Ø³ÙŠ` : `ØªÙ‚Ø¯ÙŠØ±Ø§Ù‹ Ù„Ø¬Ù‡ÙˆØ¯Ù‡Ø§ ÙˆØ£Ø¯Ø§Ø¦Ù‡Ø§ Ø§Ù„Ù…ØªÙ…ÙŠØ² ÙƒÙ€ ${starType}`;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // Ø¨Ù†Ø§Ø¡ Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø´Ù‡Ø§Ø¯Ø©
Â  Â  Â  Â  Â  Â  const certificateContentHTML = `
Â  Â  Â  Â  Â  Â  Â  Â  <div class="certificate-header">${headerLogoHtml}</div>
Â  Â  Â  Â  Â  Â  Â  Â  <h2 style="margin: 1rem 0; color: #ab47bc;">Ø´Ù‡Ø§Ø¯Ø© ${starType}</h2>
Â  Â  Â  Â  Â  Â  Â  Â  <h3>ØªÙ…Ù†Ø­ ${isClass ? 'Ù„ØµÙ' : 'Ù„Ù„Ù…Ø¹Ù„Ù…Ø©'}: <strong style="color: #ff6b9d;">${name}</strong></h3>
Â  Â  Â  Â  Â  Â  Â  Â  <p style="font-size: 1.2rem;">${certificateText}</p>
Â  Â  Â  Â  Â  Â  Â  Â  <div style="font-size: 3rem; margin: 1rem 0;">${icon || 'ğŸŒŸ'}</div>
Â  Â  Â  Â  Â  Â  Â  Â  <p style="margin-top: 2rem;">Ø§Ù„Ù…Ø¯Ø±Ø³Ø©: Ø£Ù… Ù…Ø§Ù„Ùƒ Ø§Ù„Ø£Ù†ØµØ§Ø±ÙŠØ© Ù„Ù„Ø¨Ù†Ø§Øª</p>
Â  Â  Â  Â  Â  Â  Â  Â  <p style="margin-top: 3rem; font-weight: bold;">Ù…Ø¯ÙŠØ±Ø© Ø§Ù„Ù…Ø¯Ø±Ø³Ø©</p>
Â  Â  Â  Â  Â  Â  Â  Â  <p style="font-size: 0.9rem; color: #666;">Ø­Ø±Ø±Øª ÙÙŠ: ${date}</p>
Â  Â  Â  Â  Â  Â  `;

Â  Â  Â  Â  Â  Â  certificateContainer.innerHTML = certificateContentHTML;
Â  Â  Â  Â  Â  Â  document.body.appendChild(certificateContainer);Â 

Â  Â  Â  Â  Â  Â  // 3. Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ø´Ù‡Ø§Ø¯Ø© ÙÙŠ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©
Â  Â  Â  Â  Â  Â  const previewContainer = document.getElementById('certificatePreviewContainer');
Â  Â  Â  Â  Â  Â  if (previewContainer) {
Â  Â  Â  Â  Â  Â  Â  Â  // Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ ÙÙŠ Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø© (Ø¨Ø¯ÙˆÙ† Ø²Ø± Ø§Ù„Ø­ÙØ¸ Ø¯Ø§Ø®Ù„ Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„ÙØ¹Ù„ÙŠØ©)
Â  Â  Â  Â  Â  Â  Â  Â  previewContainer.innerHTML = certificateContentHTML;Â 
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  // Ø¥Ø¶Ø§ÙØ© Ø²Ø± Ø§Ù„Ø­ÙØ¸ ÙˆØ±Ø¨Ø·Ù‡ Ø¨Ø§Ù„Ø¯Ø§Ù„Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
Â  Â  Â  Â  Â  Â  Â  Â  Â previewContainer.innerHTML += `<div style="margin-top:1rem;"><button id="exportCertificateBtn" class="nav-button" style="background: #28a745;">ğŸ“¥ Ø­ÙØ¸ PDF Ø§Ù„Ø¢Ù†</button></div>`;
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('certificatePlaceholder').style.display = 'none';

Â  Â  Â  Â  Â  Â  Â  Â  Â // Ø±Ø¨Ø· Ø²Ø± Ø§Ù„Ø­ÙØ¸ Ø¨Ø§Ù„Ø¯Ø§Ù„Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('exportCertificateBtn').onclick = () => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const fileName = `${name}_${starType.replace(/\s/g, '_')}_${date}.pdf`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // Ø­ÙØ¸ Ø§Ù„Ø´Ù‡Ø§Ø¯Ø© Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¹Ù†ØµØ± Ø§Ù„Ù…Ø®ÙÙŠ ÙÙŠ Ø§Ù„Ù€ body
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  saveCertificatePDF('certificatePreview', fileName);Â 
Â  Â  Â  Â  Â  Â  Â  Â  };
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  return certificateContainer;
Â  Â  Â  Â  }

Â  Â  Â  Â  // â­ï¸ Ø¯Ø§Ù„Ø© Ù…ÙˆØ­Ø¯Ø© Ù„Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø´Ù‡Ø§Ø¯Ø© Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ù†ÙˆØ¹
Â  Â  Â  Â  function createStarCertificate(type) {
Â  Â  Â  Â  Â  Â  Â let name, icon, isClass, starType;

Â  Â  Â  Â  Â  Â  Â if (type === 'dailyClass') {
Â  Â  Â  Â  Â  Â  Â  Â  Â const topDailyClass = classes.reduce((max, c) => (c.dailyPoints > (max.dailyPoints || 0) ? c : max), {});
Â  Â  Â  Â  Â  Â  Â  Â  Â if (!topDailyClass.name || topDailyClass.dailyPoints <= 0) return alert('Ù„Ø§ ÙŠÙˆØ¬Ø¯ ØµÙ Ù…Ø¤Ù‡Ù„ Ù„Ù†Ø¬Ù… Ø§Ù„Ø·Ø§Ø¨ÙˆØ± Ø§Ù„ÙŠÙˆÙ….');
Â  Â  Â  Â  Â  Â  Â  Â  Â name = topDailyClass.name;
Â  Â  Â  Â  Â  Â  Â  Â  Â icon = 'â­';
Â  Â  Â  Â  Â  Â  Â  Â  Â isClass = true;
Â  Â  Â  Â  Â  Â  Â  Â  Â starType = 'Ù†Ø¬Ù… Ø§Ù„Ø·Ø§Ø¨ÙˆØ± Ø§Ù„ÙŠÙˆÙ…ÙŠ';
Â  Â  Â  Â  Â  Â  Â } else if (type === 'starOfDay') {
Â  Â  Â  Â  Â  Â  Â  Â  Â const firstPresentTeacher = teachers
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â .filter(t => t.status === 'present' && t.timestamp)
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â .sort((a, b) => new Date(a.timestamp) - new Date(b.timestamp))[0];
Â  Â  Â  Â  Â  Â  Â  Â  Â if (!firstPresentTeacher) return alert('Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…Ø¹Ù„Ù…Ø© Ù…Ø¤Ù‡Ù„Ø© Ù„Ù†Ø¬Ù… Ø§Ù„ÙŠÙˆÙ… (ÙŠØ¬Ø¨ Ø£Ù† ØªØ³Ø¬Ù„ Ø­Ø¶ÙˆØ±Ù‡Ø§ Ø£ÙˆÙ„Ø§Ù‹).');
Â  Â  Â  Â  Â  Â  Â  Â  Â name = firstPresentTeacher.name;
Â  Â  Â  Â  Â  Â  Â  Â  Â icon = 'ğŸŒŸ';
Â  Â  Â  Â  Â  Â  Â  Â  Â isClass = false;
Â  Â  Â  Â  Â  Â  Â  Â  Â starType = 'Ù†Ø¬Ù…Ø© Ø§Ù„ÙŠÙˆÙ…';
Â  Â  Â  Â  Â  Â  Â } else if (type === 'starOfMonth') {
Â  Â  Â  Â  Â  Â  Â  Â  Â const selectedStar = document.getElementById('starOfMonth').textContent; // Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠØ©
Â  Â  Â  Â  Â  Â  Â  Â  Â if (selectedStar === 'Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø§Ø®ØªÙŠØ§Ø± Ø¨Ø¹Ø¯') return alert('Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø¹Ù„Ù…Ø© Ù…Ø¤Ù‡Ù„Ø© Ù„Ù†Ø¬Ù…Ø© Ø§Ù„Ø´Ù‡Ø± Ø¨Ø¹Ø¯.');
Â  Â  Â  Â  Â  Â  Â  Â  Â name = selectedStar.substring(0, selectedStar.indexOf('(')).trim();
Â  Â  Â  Â  Â  Â  Â  Â  Â icon = 'ğŸ†';
Â  Â  Â  Â  Â  Â  Â  Â  Â isClass = false;
Â  Â  Â  Â  Â  Â  Â  Â  Â starType = 'Ù†Ø¬Ù…Ø© Ø§Ù„Ø´Ù‡Ø±';
Â  Â  Â  Â  Â  Â  Â } else if (type === 'queueStarMonth') {
Â  Â  Â  Â  Â  Â  Â  Â  Â const selectedStar = document.getElementById('queueStarMonth').textContent; // Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠØ©
Â  Â  Â  Â  Â  Â  Â  Â  Â if (selectedStar === 'Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø§Ø®ØªÙŠØ§Ø± Ø¨Ø¹Ø¯') return alert('Ù„Ø§ ÙŠÙˆØ¬Ø¯ ØµÙ Ù…Ø¤Ù‡Ù„ Ù„Ù†Ø¬Ù… Ø§Ù„Ø·Ø§Ø¨ÙˆØ± Ù„Ù„Ø´Ù‡Ø± Ø¨Ø¹Ø¯.');
Â  Â  Â  Â  Â  Â  Â  Â  Â name = selectedStar;
Â  Â  Â  Â  Â  Â  Â  Â  Â icon = 'ğŸ‘‘';
Â  Â  Â  Â  Â  Â  Â  Â  Â isClass = true;
Â  Â  Â  Â  Â  Â  Â  Â  Â starType = 'Ù†Ø¬Ù… Ø§Ù„Ø·Ø§Ø¨ÙˆØ± Ù„Ù„Ø´Ù‡Ø±';
Â  Â  Â  Â  Â  Â  Â } else if (type === 'attendance') {
Â  Â  Â  Â  Â  Â  Â  Â  Â name = 'Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø¹Ù„Ù…Ø§Øª Ø§Ù„Ù…ØªÙ…ÙŠØ²Ø§Øª';
Â  Â  Â  Â  Â  Â  Â  Â  Â icon = 'ğŸ“‹';
Â  Â  Â  Â  Â  Â  Â  Â  Â isClass = false;
Â  Â  Â  Â  Â  Â  Â  Â  Â starType = 'ØªÙ‚Ø¯ÙŠØ± Ù„Ù„Ø­Ø¶ÙˆØ± Ø§Ù„Ù…Ù…ÙŠØ²';
Â  Â  Â  Â  Â  Â  Â } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â return alert('Ù†ÙˆØ¹ Ø§Ù„Ø´Ù‡Ø§Ø¯Ø© ØºÙŠØ± ØµØ­ÙŠØ­.');
Â  Â  Â  Â  Â  Â  Â }
Â  Â  Â  Â  Â  Â  Â 
Â  Â  Â  Â  Â  Â  Â generateCertificatePreview({ name, icon, isClass, starType });
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  // Ø¯Ø§Ù„Ø© Ø§Ù„Ø·Ø¨Ø§Ø¹Ø© Ø¨Ø§Ù„Ù…ØªØµÙØ­ (Ù„Ù„ØªØ±Ø§Ø¬Ø¹ ÙÙŠ Ø­Ø§Ù„ Ù„Ù… ÙŠÙØ±Ø¶ÙŠ Ø§Ù„ØªØµØ¯ÙŠØ± Ø§Ù„Ù…Ø¨Ø§Ø´Ø±)
Â  Â  Â  Â  function printCertificate() {
Â  Â  Â  Â  Â  Â  Â alert('ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ù†ÙˆØ¹ Ø§Ù„Ø´Ù‡Ø§Ø¯Ø© Ø£ÙˆÙ„Ø§Ù‹. Ø³ÙŠØªÙ… ØªØµØ¯ÙŠØ±Ù‡Ø§ ÙƒÙ€ PDF Ù…Ø¨Ø§Ø´Ø±Ø© Ø¨Ù…Ø¬Ø±Ø¯ Ø§Ù„Ø§Ø®ØªÙŠØ§Ø±.');
Â  Â  Â  Â  }

Â  Â  Â  Â  // ===================================================
Â  Â  Â  Â  // 6. ÙˆØ¸Ø§Ø¦Ù Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±
Â  Â  Â  Â  // ===================================================
Â  Â  Â  Â Â 
Â  Â  Â  Â  // â­ï¸ Ø¯Ø§Ù„Ø© Ù…ÙˆØ­Ø¯Ø© Ù„ØªÙˆÙ„ÙŠØ¯ ÙˆØ¹Ø±Ø¶ ÙˆØªØµØ¯ÙŠØ± ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù†Ø¬ÙˆÙ… (Ù…Ø­Ø¯Ø«Ø© Ù„Ù„ØªØµØ¯ÙŠØ± Ø§Ù„Ù…Ø¨Ø§Ø´Ø±)
Â  Â  Â  Â  function generateAndExportStarsReport(format, type = 'daily') {
Â  Â  Â  Â  Â  Â  const reportData = classes.map(c => ({
Â  Â  Â  Â  Â  Â  Â  Â  'Ø§Ù„ØµÙ': c.name,
Â  Â  Â  Â  Â  Â  Â  Â  'Ù†Ù‚Ø§Ø· Ø§Ù„Ù‡Ø¯ÙˆØ¡': c.quiet,
Â  Â  Â  Â  Â  Â  Â  Â  'Ù†Ù‚Ø§Ø· Ø§Ù„Ø³Ø±Ø¹Ø©': c.speed,
Â  Â  Â  Â  Â  Â  Â  Â  'Ù†Ù‚Ø§Ø· Ø§Ù„ØµÙˆØª': c.volume,
Â  Â  Â  Â  Â  Â  Â  Â  'Ù†Ù‚Ø§Ø· Ø§Ù„Ù†Ø¸Ø§ÙØ©': c.cleanliness,
Â  Â  Â  Â  Â  Â  Â  Â  'Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ÙŠÙˆÙ…': c.dailyPoints,
Â  Â  Â  Â  Â  Â  Â  Â  'Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø´Ù‡Ø±': c.monthlyPoints,
Â  Â  Â  Â  Â  Â  Â  Â  'Ù…Ù„Ø§Ø­Ø¸Ø§Øª': c.notes
Â  Â  Â  Â  Â  Â  }));
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  const reportTitle = `ØªÙ‚Ø±ÙŠØ± Ù†Ø¬ÙˆÙ… Ø§Ù„Ø·Ø§Ø¨ÙˆØ± (${type === 'daily' ? 'ÙŠÙˆÙ…ÙŠ' : type === 'weekly' ? 'Ø£Ø³Ø¨ÙˆØ¹ÙŠ' : 'Ø´Ù‡Ø±ÙŠ'})`;
Â  Â  Â  Â  Â  Â  const fileName = `QueueStars_${type}_Report_${new Date().toLocaleDateString('en-US').replace(/\//g, '-')}`;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  displayReport(reportData, reportTitle, 'stars');
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  if (format !== 'display') exportReportByFormat(format, reportData, reportTitle, fileName);
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  // â­ï¸ Ø¯Ø§Ù„Ø© Ù…ÙˆØ­Ø¯Ø© Ù„ØªÙˆÙ„ÙŠØ¯ ÙˆØ¹Ø±Ø¶ ÙˆØªØµØ¯ÙŠØ± ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ø­Ø¶ÙˆØ± (Ù…Ø­Ø¯Ø«Ø© Ù„Ù„ØªØµØ¯ÙŠØ± Ø§Ù„Ù…Ø¨Ø§Ø´Ø±)
Â  Â  Â  Â  function generateAndExportAttendanceReport(format, type = 'daily') {
Â  Â  Â  Â  Â  Â  const reportData = teachers.map(t => ({
Â  Â  Â  Â  Â  Â  Â  Â  'ID': t.id,
Â  Â  Â  Â  Â  Â  Â  Â  'Ø§Ù„Ø§Ø³Ù…': t.name,
Â  Â  Â  Â  Â  Â  Â  Â  'Ø§Ù„ØµÙ': t.class,
Â  Â  Â  Â  Â  Â  Â  Â  'Ø­Ø§Ù„Ø© Ø§Ù„Ø­Ø¶ÙˆØ±': getStatusText(t.status),
Â  Â  Â  Â  Â  Â  Â  Â  'ÙˆÙ‚Øª Ø§Ù„ØªØ³Ø¬ÙŠÙ„': t.timestamp || 'Ù„Ø§ ÙŠÙˆØ¬Ø¯',
Â  Â  Â  Â  Â  Â  Â  Â  'Ù…Ù„Ø§Ø­Ø¸Ø§Øª': t.notes
Â  Â  Â  Â  Â  Â  }));
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  const reportTitle = `ØªÙ‚Ø±ÙŠØ± Ø­Ø¶ÙˆØ± Ø§Ù„Ù…Ø¹Ù„Ù…Ø§Øª (${type === 'daily' ? 'ÙŠÙˆÙ…ÙŠ' : type === 'weekly' ? 'Ø£Ø³Ø¨ÙˆØ¹ÙŠ' : 'Ø´Ù‡Ø±ÙŠ'})`;
Â  Â  Â  Â  Â  Â  const fileName = `Attendance_${type}_Report_${new Date().toLocaleDateString('en-US').replace(/\//g, '-')}`;

Â  Â  Â  Â  Â  Â  displayReport(reportData, reportTitle, 'attendance');
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  if (format !== 'display') exportReportByFormat(format, reportData, reportTitle, fileName);
Â  Â  Â  Â  }

Â  Â  Â  Â  async function exportReportByFormat(format, data, title, fileName) {
Â  Â  Â  Â  Â  Â  const reportEl = document.getElementById('reportToExport');
Â  Â  Â  Â  Â  Â  displayReport(data, title, 'export');Â 
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  if (format === 'excel') {
Â  Â  Â  Â  Â  Â  Â  Â  Â exportToExcel(data, fileName);
Â  Â  Â  Â  Â  Â  } else if (format === 'pdf') {
Â  Â  Â  Â  Â  Â  Â  Â  Â await exportToPDF('reportToExport', fileName);
Â  Â  Â  Â  Â  Â  } else if (format === 'image') {
Â  Â  Â  Â  Â  Â  Â  Â  Â await exportToImage('reportToExport', fileName);
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  function generateAndExportDailyAttendance(format) { generateAndExportAttendanceReport(format, 'daily'); }
Â  Â  Â  Â  function generateAndExportWeeklyAttendance(format) { generateAndExportAttendanceReport(format, 'weekly'); alert('Ø¹Ø±Ø¶ Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠ ÙŠØ³ØªØ®Ø¯Ù… Ø­Ø§Ù„ÙŠØ§Ù‹ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙŠÙˆÙ….'); }
Â  Â  Â  Â  function generateAndExportMonthlyAttendance(format) { generateAndExportAttendanceReport(format, 'monthly'); alert('Ø¹Ø±Ø¶ Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø´Ù‡Ø±ÙŠ ÙŠØ³ØªØ®Ø¯Ù… Ø­Ø§Ù„ÙŠØ§Ù‹ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙŠÙˆÙ….'); }

Â  Â  Â  Â  function generateAndExportDailyStars(format) { generateAndExportStarsReport(format, 'daily'); }
Â  Â  Â  Â  function generateAndExportWeeklyStars(format) { generateAndExportStarsReport(format, 'weekly'); alert('Ø¹Ø±Ø¶ Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠ ÙŠØ³ØªØ®Ø¯Ù… Ø­Ø§Ù„ÙŠØ§Ù‹ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙŠÙˆÙ….'); }
Â  Â  Â  Â  function generateAndExportMonthlyStars(format) { generateAndExportStarsReport(format, 'monthly'); alert('Ø¹Ø±Ø¶ Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø´Ù‡Ø±ÙŠ ÙŠØ³ØªØ®Ø¯Ù… Ø­Ø§Ù„ÙŠØ§Ù‹ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙŠÙˆÙ….'); }
Â  Â  Â  Â Â 
Â  Â  Â  Â  function exportCompleteReport(format) {
Â  Â  Â  Â  Â  Â  Â const allData = {
Â  Â  Â  Â  Â  Â  Â  Â  'Attendance': teachers.map(t => ({
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'ID': t.id,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'Ø§Ù„Ø§Ø³Ù…': t.name,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'Ø§Ù„ØµÙ': t.class,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'Ø­Ø§Ù„Ø© Ø§Ù„Ø­Ø¶ÙˆØ±': getStatusText(t.status),
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'ÙˆÙ‚Øª Ø§Ù„ØªØ³Ø¬ÙŠÙ„': t.timestamp || 'Ù„Ø§ ÙŠÙˆØ¬Ø¯',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'Ù…Ù„Ø§Ø­Ø¸Ø§Øª': t.notes
Â  Â  Â  Â  Â  Â  Â  Â  })),
Â  Â  Â  Â  Â  Â  Â  Â  'QueueStars': classes.map(c => ({
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'Ø§Ù„ØµÙ': c.name,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'Ù†Ù‚Ø§Ø· Ø§Ù„ÙŠÙˆÙ…': c.dailyPoints,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'Ù†Ù‚Ø§Ø· Ø§Ù„Ø´Ù‡Ø±': c.monthlyPoints,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'Ù†Ù‚Ø§Ø· Ø§Ù„Ù‡Ø¯ÙˆØ¡': c.quiet,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'Ù†Ù‚Ø§Ø· Ø§Ù„Ø³Ø±Ø¹Ø©': c.speed,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'Ù†Ù‚Ø§Ø· Ø§Ù„ØµÙˆØª': c.volume,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'Ù†Ù‚Ø§Ø· Ø§Ù„Ù†Ø¸Ø§ÙØ©': c.cleanliness,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'Ù…Ù„Ø§Ø­Ø¸Ø§Øª': c.notes
Â  Â  Â  Â  Â  Â  Â  Â  }))
Â  Â  Â  Â  Â  Â  };
Â  Â  Â  Â  Â  Â  const reportTitle = `Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø´Ø§Ù…Ù„ - ${new Date().toLocaleDateString('ar-SA')}`;
Â  Â  Â  Â  Â  Â  const fileName = `Comprehensive_Report_${new Date().toLocaleDateString('en-US').replace(/\//g, '-')}`;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  if (format === 'excel') {
Â  Â  Â  Â  Â  Â  Â  Â  exportMultipleSheetsToExcel(allData, fileName);
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  alert('Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø¹Ø±Ø¶ Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø´Ø§Ù…Ù„ (PDF/Image) Ø¹Ù„Ù‰ Ø´ÙƒÙ„ Ù…Ø¹Ø§ÙŠÙ†Ø©. Ø³ÙŠØªÙ… ØªØµØ¯ÙŠØ± Ù†Ø³Ø®Ø© Excel ÙÙ‚Ø·.');
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  function displayReport(data, title, type) {
Â  Â  Â  Â  Â  Â  const previewContainer = document.getElementById('reportPreviewContainer');
Â  Â  Â  Â  Â  Â  const preview = document.getElementById('reportToExport');
Â  Â  Â  Â  Â  Â  document.getElementById('reportPlaceholder').style.display = 'none';

Â  Â  Â  Â  Â  Â  let tableHtml = `<div class="report-preview-container" style="padding: 2rem; border-radius: 15px; background: #fff; color: #333; text-align: right;">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="report-header">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h2 class="report-title">${title}</h2>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="report-date">ØªØ§Ø±ÙŠØ® Ø§Ù„ØªÙ‚Ø±ÙŠØ±: ${new Date().toLocaleDateString('ar-SA')}</p>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <table border="1" id="reportTable" style="width:100%; border-collapse:collapse; text-align:center; font-size: 0.9rem;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <thead><tr>`;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  const headers = Object.keys(data[0] || {});
Â  Â  Â  Â  Â  Â  headers.forEach(header => {
Â  Â  Â  Â  Â  Â  Â  Â  tableHtml += `<th style="padding: 0.5rem; background: #ab47bc; color: white;">${header}</th>`;
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  tableHtml += `</tr></thead><tbody>`;

Â  Â  Â  Â  Â  Â  data.forEach(row => {
Â  Â  Â  Â  Â  Â  Â  Â  tableHtml += `<tr>`;
Â  Â  Â  Â  Â  Â  Â  Â  headers.forEach(header => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  tableHtml += `<td style="padding: 0.5rem;">${row[header]}</td>`;
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â  tableHtml += `</tr>`;
Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  tableHtml += `</tbody></table></div>`;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  preview.innerHTML = tableHtml;
Â  Â  Â  Â  Â  Â  preview.style.display = 'block';
Â  Â  Â  Â  Â  Â  previewContainer.scrollTop = 0;Â 
Â  Â  Â  Â  }

Â  Â  Â  Â  function exportToExcel(data, fileName) {
Â  Â  Â  Â  Â  Â  const ws = XLSX.utils.json_to_sheet(data);
Â  Â  Â  Â  Â  Â  const wb = XLSX.utils.book_new();
Â  Â  Â  Â  Â  Â  XLSX.utils.book_append_sheet(wb, ws, 'Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª');
Â  Â  Â  Â  Â  Â  XLSX.writeFile(wb, `${fileName}.xlsx`);
Â  Â  Â  Â  Â  Â  alert(`âœ… ØªÙ… ØªØµØ¯ÙŠØ± ${fileName}.xlsx Ø¨Ù†Ø¬Ø§Ø­.`);
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  function exportMultipleSheetsToExcel(data, fileName) {
Â  Â  Â  Â  Â  Â  Â const wb = XLSX.utils.book_new();
Â  Â  Â  Â  Â  Â  Â for (const sheetName in data) {
Â  Â  Â  Â  Â  Â  Â  Â  Â const ws = XLSX.utils.json_to_sheet(data[sheetName]);
Â  Â  Â  Â  Â  Â  Â  Â  Â XLSX.utils.book_append_sheet(wb, ws, sheetName);
Â  Â  Â  Â  Â  Â  Â }
Â  Â  Â  Â  Â  Â  Â XLSX.writeFile(wb, `${fileName}.xlsx`);
Â  Â  Â  Â  Â  Â  Â alert(`âœ… ØªÙ… ØªØµØ¯ÙŠØ± ${fileName}.xlsx Ø¨ØµÙØ­Ø§Øª Ù…ØªØ¹Ø¯Ø¯Ø© Ø¨Ù†Ø¬Ø§Ø­.`);
Â  Â  Â  Â  }

Â  Â  Â  Â  async function exportToPDF(elementId, fileName) {
Â  Â  Â  Â  Â  Â  const element = document.getElementById(elementId);
Â  Â  Â  Â  Â  Â  Â if (!element || element.style.display === 'none') {
Â  Â  Â  Â  Â  Â  Â  Â  Â alert('âŒ ÙŠØ±Ø¬Ù‰ Ø¹Ø±Ø¶ Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø£ÙˆÙ„Ø§Ù‹ ÙÙŠ Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø© Ù‚Ø¨Ù„ Ø§Ù„ØªØµØ¯ÙŠØ±.');
Â  Â  Â  Â  Â  Â  Â  Â  Â return;
Â  Â  Â  Â  Â  Â  Â }
Â  Â  Â  Â  Â  Â  await new Promise(resolve => setTimeout(resolve, 200));Â 

Â  Â  Â  Â  Â  Â  html2canvas(element, { scale: 2, useCORS: true }).then(canvas => {
Â  Â  Â  Â  Â  Â  Â  Â  const imgData = canvas.toDataURL('image/png');
Â  Â  Â  Â  Â  Â  Â  Â  const { jsPDF } = window.jspdf;
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  const pdf = new jsPDF('p', 'mm', 'a4');
Â  Â  Â  Â  Â  Â  Â  Â  const imgWidth = 200;Â 
Â  Â  Â  Â  Â  Â  Â  Â  const pageHeight = 290;
Â  Â  Â  Â  Â  Â  Â  Â  const imgHeight = canvas.height * imgWidth / canvas.width;

Â  Â  Â  Â  Â  Â  Â  Â  pdf.addImage(imgData, 'PNG', 5, 5, imgWidth, imgHeight);
Â  Â  Â  Â  Â  Â  Â  Â  pdf.save(`${fileName}.pdf`);
Â  Â  Â  Â  Â  Â  Â  Â  alert(`âœ… ØªÙ… ØªØµØ¯ÙŠØ± ${fileName}.pdf Ø¨Ù†Ø¬Ø§Ø­.`);
Â  Â  Â  Â  Â  Â  }).catch(error => {
Â  Â  Â  Â  Â  Â  Â  Â  console.error("Error generating PDF:", error);
Â  Â  Â  Â  Â  Â  Â  Â  alert("âŒ ÙØ´Ù„ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù„Ù PDF. ÙŠØ±Ø¬Ù‰ Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„ÙƒÙˆÙ†Ø³ÙˆÙ„.");
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  async function exportToImage(elementId, fileName) {
Â  Â  Â  Â  Â  Â  const element = document.getElementById(elementId);
Â  Â  Â  Â  Â  Â  if (!element || element.style.display === 'none') {
Â  Â  Â  Â  Â  Â  Â  Â  Â alert('âŒ ÙŠØ±Ø¬Ù‰ Ø¹Ø±Ø¶ Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø£ÙˆÙ„Ø§Ù‹ ÙÙŠ Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø© Ù‚Ø¨Ù„ Ø§Ù„ØªØµØ¯ÙŠØ±.');
Â  Â  Â  Â  Â  Â  Â  Â  Â return;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â await new Promise(resolve => setTimeout(resolve, 200));Â 

Â  Â  Â  Â  Â  Â  html2canvas(element, { scale: 2, useCORS: true }).then(canvas => {
Â  Â  Â  Â  Â  Â  Â  Â  canvas.toBlob(blob => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const link = document.createElement('a');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  link.href = URL.createObjectURL(blob);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  link.download = `${fileName}.png`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  link.click();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  alert(`âœ… ØªÙ… ØªØµØ¯ÙŠØ± ${fileName}.png Ø¨Ù†Ø¬Ø§Ø­.`);
Â  Â  Â  Â  Â  Â  Â  Â  }, 'image/png');
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  }

Â  Â  Â  Â  function printReport() {
Â  Â  Â  Â  Â  Â  const preview = document.getElementById('reportToExport');
Â  Â  Â  Â  Â  Â  Â if (preview.style.display === 'none') {
Â  Â  Â  Â  Â  Â  Â  Â  alert('ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ù†ÙˆØ¹ Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ù„Ù…Ø¹Ø§ÙŠÙ†ØªÙ‡ Ø£ÙˆÙ„Ø§Ù‹.');
Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  const printWindow = window.open('', '_blank');
Â  Â  Â  Â  Â  Â  printWindow.document.write('<html><head><title>Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„ØªÙ‚Ø±ÙŠØ±</title><style>.report-preview-container{ padding: 2rem; border-radius: 15px; background: #fff; color: #333; text-align: right; } table, th, td { border: 1px solid #ddd; border-collapse: collapse; padding: 8px; text-align: right; } th { background: #ab47bc; color: white; }</style></head><body style="direction:rtl; font-family: \'Tajawal\', sans-serif;">');
Â  Â  Â  Â  Â  Â  printWindow.document.write(preview.innerHTML);
Â  Â  Â  Â  Â  Â  printWindow.document.write('</body></html>');
Â  Â  Â  Â  Â  Â  printWindow.document.close();
Â  Â  Â  Â  Â  Â  printWindow.focus();
Â  Â  Â  Â  Â  Â  printWindow.print();
Â  Â  Â  Â  Â  Â  printWindow.close();
Â  Â  Â  Â  }

Â  Â  Â  Â  // ===================================================
Â  Â  Â  Â  // 7. ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠ ÙˆØ§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ (Ù„Ù… ØªØªØºÙŠØ±)
Â  Â  Â  Â  // ===================================================
Â  Â  Â  Â  function exportSavedData() {
Â  Â  Â  Â  Â  Â  const dataToExport = {
Â  Â  Â  Â  Â  Â  Â  Â  teachers: teachers,
Â  Â  Â  Â  Â  Â  Â  Â  classes: classes,
Â  Â  Â  Â  Â  Â  Â  Â  systemPassword: systemPassword,
Â  Â  Â  Â  Â  Â  Â  Â  motivationalQuote: motivationalQuote
Â  Â  Â  Â  Â  Â  };
Â  Â  Â  Â  Â  Â  const dataStr = JSON.stringify(dataToExport, null, 2);
Â  Â  Â  Â  Â  Â  const blob = new Blob([dataStr], { type: "application/json" });
Â  Â  Â  Â  Â  Â  const url = URL.createObjectURL(blob);
Â  Â  Â  Â  Â  Â  const a = document.createElement('a');
Â  Â  Â  Â  Â  Â  a.href = url;
Â  Â  Â  Â  Â  Â  a.download = `QueueSystem_Backup_${new Date().toISOString().slice(0, 10)}.json`;
Â  Â  Â  Â  Â  Â  a.click();
Â  Â  Â  Â  Â  Â  URL.revokeObjectURL(url);
Â  Â  Â  Â  Â  Â  alert('âœ… ØªÙ… ØªØµØ¯ÙŠØ± Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠØ© Ø¨Ù†Ø¬Ø§Ø­.');
Â  Â  Â  Â  }

Â  Â  Â  Â  function importSavedData() {
Â  Â  Â  Â  Â  Â  const input = document.createElement('input');
Â  Â  Â  Â  Â  Â  input.type = 'file';
Â  Â  Â  Â  Â  Â  input.accept = 'application/json';
Â  Â  Â  Â  Â  Â  input.onchange = (e) => {
Â  Â  Â  Â  Â  Â  Â  Â  const file = e.target.files[0];
Â  Â  Â  Â  Â  Â  Â  Â  if (!file) return;
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  if (!confirm('âš ï¸ Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§ØªØŸ Ù‡Ø°Ø§ Ø³ÙŠØ­Ù„ Ù…Ø­Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø§Ù„ÙŠØ©. Ù„Ù† ÙŠØ¤Ø«Ø± Ø¹Ù„Ù‰ Ø¨ÙŠØ§Ù†Ø§Øª Google Sheet Ø­ØªÙ‰ ØªÙ‚ÙˆÙ… Ø¨Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© ÙŠØ¯ÙˆÙŠØ§Ù‹.')) return;

Â  Â  Â  Â  Â  Â  Â  Â  const reader = new FileReader();
Â  Â  Â  Â  Â  Â  Â  Â  reader.onload = (event) => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const importedData = JSON.parse(event.target.result);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  teachers = importedData.teachers || [];
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  classes = importedData.classes || [];
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  systemPassword = importedData.systemPassword || 'admin123';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  motivationalQuote = importedData.motivationalQuote || 'Ø§Ù†Ø¶Ø¨Ø§Ø· ÙŠØ¹ÙƒØ³ ÙˆØ¹ÙŠÙ‹Ø§ ÙˆÙ†Ø¸Ø§Ù… ÙŠØµÙ†Ø¹ Ø§Ù„Ø£Ø¬ÙŠØ§Ù„';

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  renderTeachers();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  renderClasses();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  updateStats();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  updateStarSummaries();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  renderTeachersManagementList();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  updateDataManagement();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('motivationalSubtitle').textContent = motivationalQuote;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('motivationalText').value = motivationalQuote;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  alert('âœ… ØªÙ… Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ© Ø¨Ù†Ø¬Ø§Ø­! ÙŠØ±Ø¬Ù‰ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ø§Ù„Ø´ÙŠØª Ø¥Ø°Ø§ ÙƒÙ†Øª ØªØ±ÙŠØ¯ Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø³Ø­Ø§Ø¨ÙŠØ©.');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } catch (error) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  alert(`âŒ ÙØ´Ù„ ÙÙŠ ØªØ­Ù„ÙŠÙ„ Ù…Ù„Ù JSON: ${error.message}`);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.error('Import error:', error);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  };
Â  Â  Â  Â  Â  Â  Â  Â  reader.readAsText(file);
Â  Â  Â  Â  Â  Â  };
Â  Â  Â  Â  Â  Â  input.click();
Â  Â  Â  Â  }

Â  Â  Â  Â  function clearAllSavedData() {
Â  Â  Â  Â  Â  Â  if (confirm('âš ï¸ Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ© (Ø§Ù„Ù…Ø¹Ù„Ù…Ø§ØªØŒ Ø§Ù„ØµÙÙˆÙØŒ Ø§Ù„Ù†Ù‚Ø§Ø·ØŒ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª)ØŸ Ù‡Ø°Ø§ Ù„Ù† ÙŠØ¤Ø«Ø± Ø¹Ù„Ù‰ Ø¨ÙŠØ§Ù†Ø§Øª Google SheetØŒ ÙˆÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø³ØªØ¹Ø§Ø¯ØªÙ‡Ø§ Ù…Ù†Ù‡ Ù„Ø§Ø­Ù‚Ø§Ù‹.')) {
Â  Â  Â  Â  Â  Â  Â  Â  teachers = [];
Â  Â  Â  Â  Â  Â  Â  Â  classes = [];
Â  Â  Â  Â  Â  Â  Â  Â  systemPassword = 'admin123';
Â  Â  Â  Â  Â  Â  Â  Â  motivationalQuote = 'Ø§Ù†Ø¶Ø¨Ø§Ø· ÙŠØ¹ÙƒØ³ ÙˆØ¹ÙŠÙ‹Ø§ ÙˆÙ†Ø¸Ø§Ù… ÙŠØµÙ†Ø¹ Ø§Ù„Ø£Ø¬ÙŠØ§Ù„';
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  renderTeachers();
Â  Â  Â  Â  Â  Â  Â  Â  renderClasses();
Â  Â  Â  Â  Â  Â  Â  Â  updateStats();
Â  Â  Â  Â  Â  Â  Â  Â  updateStarSummaries();
Â  Â  Â  Â  Â  Â  Â  Â  renderTeachersManagementList();
Â  Â  Â  Â  Â  Â  Â  Â  updateDataManagement();
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('motivationalSubtitle').textContent = motivationalQuote;
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('motivationalText').value = motivationalQuote;
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  alert('âœ… ØªÙ… Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©. ÙŠØ±Ø¬Ù‰ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ø§Ù„Ø´ÙŠØª Ù„Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø³Ø­Ø§Ø¨ÙŠØ©.');
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  function openCameraModal(teacherId, teacherName, className) {
Â  Â  Â  Â  Â  Â  currentCameraTeacherId = teacherId;
Â  Â  Â  Â  Â  Â  document.getElementById('overlayTeacherName').textContent = teacherName;
Â  Â  Â  Â  Â  Â  document.getElementById('overlayClassName').textContent = className;
Â  Â  Â  Â  Â  Â  document.getElementById('cameraModal').classList.add('active');
Â  Â  Â  Â  Â  Â  updateCameraDateTime();
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  startCamera();
Â  Â  Â  Â  }

Â  Â  Â  Â  function closeCameraModal() {
Â  Â  Â  Â  Â  Â  stopCamera();
Â  Â  Â  Â  Â  Â  document.getElementById('cameraModal').classList.remove('active');
Â  Â  Â  Â  Â  Â  currentCameraTeacherId = null;
Â  Â  Â  Â  }

Â  Â  Â  Â  function updateCameraDateTime() {
Â  Â  Â  Â  Â  Â  const now = new Date();
Â  Â  Â  Â  Â  Â  const options = { year: 'numeric', month: 'long', day: 'numeric', hour: '2-digit', minute: '2-digit', second: '2-digit' };
Â  Â  Â  Â  Â  Â  document.getElementById('overlayDateTime').textContent = now.toLocaleDateString('ar-SA', options);
Â  Â  Â  Â  }

Â  Â  Â  Â  async function getAvailableCameras() {
Â  Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  Â  Â  const devices = await navigator.mediaDevices.enumerateDevices();
Â  Â  Â  Â  Â  Â  Â  Â  availableCameras = devices.filter(device => device.kind === 'videoinput');
Â  Â  Â  Â  Â  Â  Â  Â  console.log('Available cameras:', availableCameras);
Â  Â  Â  Â  Â  Â  } catch (error) {
Â  Â  Â  Â  Â  Â  Â  Â  console.error('Error enumerating devices:', error);
Â  Â  Â  Â  Â  Â  Â  Â  availableCameras = [];
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  async function startCamera(deviceId = null) {
Â  Â  Â  Â  Â  Â  const video = document.getElementById('cameraVideo');
Â  Â  Â  Â  Â  Â  const statusDiv = document.getElementById('cameraStatus');
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  statusDiv.style.display = 'block';
Â  Â  Â  Â  Â  Â  statusDiv.innerHTML = 'Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ´ØºÙŠÙ„...';
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  if (!availableCameras.length) await getAvailableCameras();

Â  Â  Â  Â  Â  Â  if (!availableCameras.length) {
Â  Â  Â  Â  Â  Â  Â  Â  statusDiv.innerHTML = '<span style="color: red;">âŒ Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ ÙƒØ§Ù…ÙŠØ±Ø§Øª. ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø§Ù„ÙˆØµÙˆÙ„.</span>';
Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  const constraint = deviceId ? { deviceId: { exact: deviceId } } : { facingMode: 'environment' };Â 

Â  Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  Â  Â  if (cameraStream) stopCamera();
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  const constraints = {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  video: constraint
Â  Â  Â  Â  Â  Â  Â  Â  };
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  cameraStream = await navigator.mediaDevices.getUserMedia(constraints);
Â  Â  Â  Â  Â  Â  Â  Â  video.srcObject = cameraStream;
Â  Â  Â  Â  Â  Â  Â  Â  video.onloadedmetadata = () => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  video.play();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  statusDiv.innerHTML = '<span style="color: green;">âœ… Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ Ù‚ÙŠØ¯ Ø§Ù„ØªØ´ØºÙŠÙ„.</span>';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('startCameraBtn').style.display = 'none';
